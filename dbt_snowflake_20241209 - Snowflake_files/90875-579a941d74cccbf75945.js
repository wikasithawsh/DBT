"use strict";(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([[90875],{887121:(e,t,s)=>{s.d(t,{Q:()=>a});var r=s(373951),i=(s(40992),s(97558)),n=s(218977),o=s(931597);const a=(0,i.B)("LinkButton",((e,t)=>{const{use:s,size:i,children:a,buttonProps:l}=e,u=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]])}return s}(e,["use","size","children","buttonProps"]);return u[":hover"]=u[":hover"]||{},u[":hover"].textDecorationLine=u[":hover"].textDecorationLine||"none",(0,r.jsx)(o.r,Object.assign({ref:t,textDecorationLine:"none"},u,{display:"inline-flex",children:(0,r.jsx)(n.zx,Object.assign({flexGrow:1},s?{use:s}:{},i?{size:i}:{},{role:"presentation",tabIndex:void 0},l,{children:a}))}))}))},136819:(e,t,s)=>{s.d(t,{n:()=>a});var r=s(73690),i=s(877951),n=s(353654),o=s(362232);class a{getTypes(e,t,s,a){var l,u;const c={};for(let s=1;s<=e.maxCol;s++){const d=e.cols[s],h=e.parameters,p=a.colForColIdx(s);let f;if(f instanceof r.L&&/id$/i.test(p)){const e=new Set;f=new n.y;for(let r=0;r<t.length;r++){const n=t[r][s-1];if(n){if(e.has(n)){f=new i.a;break}e.add(n)}}}else f=o.g.colTypeForDatabaseType(null!==(l=d.name)&&void 0!==l?l:"",d.externalType,h),"json"===(null==f?void 0:f.id)&&"variant"===d.externalType&&"category"===(null===(u=d.type)||void 0===u?void 0:u.id)&&(f=d.type);c[s]=f}return c}}},618243:(e,t,s)=>{s.d(t,{f:()=>c});var r=s(624163),i=s(362232),n=s(73690),o=s(671070),a=s(859026),l=s(337137),u=s(642287);class c{getTypes(e,t,s,r){const i=[];for(let t=1;t<=e.maxCol;t++){const n=e.cols[t];s&&-1===s.indexOf(t)||n.externalType&&"text"!==n.externalType&&"real"!==n.externalType&&"fixed"!==n.externalType&&"variant"!==n.externalType||n.type&&"text"!==n.type.id||i.push(new d(t,r.colForColIdx(t),n.externalType||""))}for(const s of t)i.forEach((t=>{t.addValue(s[t.colIdx-1],e.cols[t.colIdx].externalType)}));const n={};return i.forEach((e=>{const t=e.getType();t&&(n[e.colIdx]=t)})),n}}class d{constructor(e,t,s){this.colIdx=e,this.colName=t,this.externalType=s,this.values=[],this.number={min:new r.O(1/0),max:new r.O(-1/0),hasInt:!1,hasFloat:!1},this.currency={min:new r.O(1/0),max:new r.O(-1/0),hasInt:!1,hasFloat:!1},this.typeCounts={number:0,date:0,currency:0,text:0,email:0,link:0,json:0,bool:0},this.stringRepetitions={},this.emptyCount=0}getType(){const e=this.typeCounts,t=Object.keys(e);let s=null,r=0;t.forEach((function(t){e[t]>r&&(s=t,r=e[t])}));const n=this.colName.toLowerCase();if("number"===s&&"zip"===n&&(s="text"),!s){if("date"===this.externalType||"timestamp"===this.externalType){const e=i.g.createTypeForId("date");return e.date.showTime="timestamp"===this.externalType,e}return"boolean"===this.externalType?i.g.createTypeForId("bool"):n.endsWith("id")&&!n.endsWith("paid")||"zip"===n||-1===this.externalType.indexOf("int")&&-1===this.externalType.indexOf("float")?null:i.g.createTypeForId("number")}if("text"===s){let e=0,t=0;for(const s of Object.values(this.stringRepetitions))s>1&&e++,s>t&&(t=s);if(!(e>1||t>4))return null;s="category"}else if(e.text/this.values.length>.05)return null;return i.g.createTypeForId(s).updateFromRows(0,this.values,this.colName,this.externalType)}addValue(e,t){this.values.push([e]),"boolean"===this.externalType?this.addBool(e):"number"==typeof e?this.addNumber(e):e instanceof Date?this.addDate(e):this.addString(e,t)}addBigNumber(e){e.isFinite()&&(!e.isZero()&&e.lt(this.number.min)&&(this.number.min=e),!e.isZero()&&e.gt(this.number.max)&&(this.number.max=e),n.L.isFloat(e)?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addNumber(e){isFinite(e)&&(0!==e&&e<this.number.min.toNumber()&&(this.number.min=new r.O(e)),0!==e&&e>this.number.max.toNumber()&&(this.number.max=new r.O(e)),e%1!=0?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addDate(e){this.typeCounts.date++}addLink(e){this.typeCounts.link++}addJson(e){this.typeCounts.json++}addBool(e){this.typeCounts.bool++}addString(e,t){if(null===e)return void this.emptyCount++;const s=String(e),r=n.L.prototype.parse(s,t);if(null!=r)return void this.addBigNumber(r);const i=a.U.prototype.parse(s);if(null!=i)return void this.addDate(i.iso);const c=u.U.prototype.parse(s);null==c?l.y.test(s)?this.addJson(s):o.D.prototype.isValidValue(s)?this.addBool(s):s?(this.typeCounts.text++,this.stringRepetitions[s]=(this.stringRepetitions[s]||0)+1):this.emptyCount++:this.addLink(c)}}},337137:(e,t,s)=>{s.d(t,{a:()=>n,y:()=>i});var r=s(873478);const i=/^\s*[{[]/;class n extends r.g{constructor(){super("json"),this.json={}}isValidValue(e){if(null===e)return!0;try{return JSON.parse(String(e)),!0}catch(e){return!1}}getNativeValue(e){try{return JSON.parse(String(e))}catch(t){return e}}getSortableValue(e){return e}}n.STATS_MAX_KEYS=128,n.STATS_MAX_VALUES=128,n.STATS_MAX_VALUE_LENGTH=1024},303673:(e,t,s)=>{s.d(t,{U:()=>i,c:()=>n});let r=null;function i(e){r=e}function n(e){return null!==r&&r(e)}},295183:(e,t,s)=>{s.d(t,{k:()=>n});var r=s(447630);let i=null;const n={get:function(){return null==i&&r.cM.error(new Error("global ctx not set")),i},set:function(e){i=e}}},688609:(e,t,s)=>{s.d(t,{oZ:()=>f});var r=s(624163),i=s(925275),n=s(73690),o=s(248050);const a=/^-?([$£€¥]?)(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function l(e){if(null===e)return NaN;const t=e.match(a);return null!=t?(t[1]&&(e=e.replace(t[1],"")),+e):NaN}function u(e){if(null===e)return new r.Z(NaN);const t=e.match(a);if(null!=t){t[1]&&(e=e.replace(t[1],""));const s=new r.Z(e);return n.L.isExponentialNumberBeyondLimit(s)?new r.Z(NaN):s}return new r.Z(NaN)}function c(e){return new i.I(e).year}function d(e){return 12*e.year+(e.month-1)}function h(e){const t=d(e);return e=>d(new i.I(e))-t}function p(e,t){const s=new i.I(e),r=new i.I(t),n=r.valueOf()-s.valueOf();return n>1&&n<32?{bucketType:"day",valueParser:(o=s.valueOf(),e=>new i.I(e).valueOf()-o)}:12*r.year+(r.month-1)-(12*s.year+(s.month-1))<24?{bucketType:"month",valueParser:h(s)}:s.year!=r.year?{bucketType:"year",valueParser:c}:null;var o}const f={generateHistograms:function(e,t){const s=e.totalRows||e.maxRow,i={number:!0,currency:!0,date:!0},n=[];for(let c=1;c<=e.maxCol;c++){const d=e.cols[c];if(!d.type||!i[d.type.id]||!d.stats)continue;if(d.stats.maxValue==d.stats.minValue)continue;if(s-d.stats.emptyCount-d.stats.invalidCount-d.stats.nullCount<2)continue;const h="date"===d.type.id;let f="number",g=l,m=!1;function v(e){return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER}function w(e){return-1!==e.indexOf(".")&&e.length>=16}const y=()=>!v(+d.stats.minValue)||!v(+d.stats.maxValue),S=()=>w(d.stats.minValue)||w(d.stats.maxValue);if(h){const A=p(d.stats.minValue,d.stats.maxValue);if(null==A)continue;f=A.bucketType,g=A.valueParser}else(y()||S())&&(g=u,m=!0);const E=[new r.Z(g(d.stats.minValue)),new r.Z(g(d.stats.maxValue))];if(m&&(E[0].isEqualTo(NaN)||E[1].isEqualTo(NaN)))continue;let b=E[1].minus(E[0]);if(!h&&b.gte(1)&&(E[0]=E[0].integerValue(r.Z.ROUND_FLOOR),b=E[1].minus(E[0])),h&&b.eq(0))continue;let _=new r.Z(1),R=b.integerValue(r.Z.ROUND_CEIL);if(b.gt(32))_=b.div(32).integerValue(r.Z.ROUND_CEIL),_.gt(100)&&(a=_,_=0==2?new r.Z(NaN):a.eq(0)?new r.Z(0):a.sd(2)),R=b.div(_),R=R.mod(1).eq(0)?R.plus(1):R.integerValue(r.Z.ROUND_CEIL);else if(R=R.plus(1),!d.stats.onlyInt&&!h)for(;R.lt(9)&&(R=R.times(2),!_.isEqualTo(_.div(2)));){_=_.div(2);const C=E[0].plus(R.times(_)).minus(E[1]).div(_);C.gt(1)&&(R=R.minus(C.integerValue(r.Z.ROUND_FLOOR).minus(1)))}E[1]=E[0].plus(R.times(_));const T=[];for(let O=0;O<+R;O++)T.push(0);const I={bucketType:f,range:E,interval:_,counts:T};n.push({colIdx:c,valueParser:g,bigNumbers:m,histogram:I})}var a;return new o.k(e,t).rowStream().then((t=>t.readRows(((e,t)=>{if(1==t)return!1;n.forEach((t=>{if(function(e){return!0===e.bigNumbers}(t)){const s=t.valueParser(e[t.colIdx-1]);if(s.isFinite()){const e=s.minus(t.histogram.range[0]).div(t.histogram.interval).integerValue(r.Z.ROUND_FLOOR);t.histogram.counts[+e]++}}else{const s=t.valueParser(e[t.colIdx-1]);if(isFinite(s)){const e=Math.floor((s-t.histogram.range[0].toNumber())/t.histogram.interval.toNumber());t.histogram.counts[e]++}}}))})).then((()=>(n.forEach((t=>{const s=t.colIdx;e.cols[s].stats.histogram=t.histogram})),e)))))}}},622614:(e,t,s)=>{s.d(t,{J:()=>d,L:()=>l});var r=s(624163),i=s(925275),n=s(362232),o=s(447630),a=s(449986);const l="";function u(e){return null!=e&&(null==e.totalRows||e.maxRow<e.totalRows)}function c(e){return e?e.totalRows||e.maxRow:0}const d={formatCellValue:function(e,t){if(!t||!t.valueFormatters)return e;if(e&&!e.match&&o.cM.warn("formatCellValue: Value is not a string!",e,typeof e),"date"==t.fmt.type){const s=t.fmt.gsFormatType?e:i.I.toJsDate(e);if(s){const r=t.valueFormatters.default;return"function"==typeof r?r(s):e}return e}if(e&&e.match(a.r.numberRegex)&&t.valueFormatters){const s=a.r.fmtNameForValue(e,t),i=t.fmtTokens[s],n=t.valueFormatters[s];let o="";for(let t=0;t<i.length;t++){const s=i[t];"const"==s.type?o+=s.val:"value"==s.type&&(n&&("number"==typeof e||e.match(a.r.numberRegex))?o+=n(new r.Z(e)):o+=e)}return o}return t.valueFormatters.default?t.valueFormatters.default(e):e},validateRenderState:function(e,t,s){const r=t.rowInfos,i=t.fixedRow,n=[];return s&&(r[i]||n.push("MissingFixedRow")),n},sheetRowForValues:function(e){const t={};for(let s=0;s<e.length;s++){const r=e[s];(r||null===r||r===l)&&(t[s+1]={v:r})}return{cells:t}},isPartialSheet:u,isLimitedBySize:function(e){return u(e)&&e.maxRow<10001},isTypedSheet:function(e){if(!e)return!1;for(let t=1;t<=e.maxCol;t++)if(!e.cols[t].type)return!1;return!0},isEmptySheet:function(e){return e.maxRow<2},isValidSheetWithNoData:function(e){return 0===Object.keys((null==e?void 0:e.rows)||{}).length},isStatsSheet:function(e){for(let t=1;t<=e.maxCol;t++)if(!e.cols[t]||!e.cols[t].stats)return!1;return!0},isSheetResultTooLargeForStatsOrSearch:function(e){return(null==e?void 0:e.totalRows)>1e6},isSheetResultTooLargeForSort:function(e){return!(null==e?void 0:e.sortable)},totalRows:c,totalDataRows:function(e){return Math.max(0,c(e)-1)},removeColStats:function(e){if(!e.cols)throw new Error("Sheet has no columns");for(let t=1;t<=e.maxCol;t++)e.cols[t].stats={}},generateColStyles:function(e,t,s){var r;t=t||e.styles;const i=n.g.generateColStyles(e.cols,null===(r=e.parameters)||void 0===r?void 0:r.time_output_format),o={};for(let s=1;s<=e.maxCol;s++){const r=e.cols[s];o[s]=i[s]||t[r.style]||t[0]}return o},generateColStats:function(e){const t={};for(let s=1;s<=e.maxCol;s++){const r=e.cols[s];if(r.stats){const e=Object.assign({},r.stats);!e.categoryCount&&e.categories&&e.categories.length&&(e.categoryCount=e.categories.length),t[s]=e}}return t}}},473010:(e,t,s)=>{s.d(t,{K:()=>p});var r=s(624163);class i{constructor(){this.keyCountMapping=new Map}add(e){this.keyCountMapping.has(e)||this.keyCountMapping.set(e,0),this.keyCountMapping.set(e,this.keyCountMapping.get(e)+1)}getCount(e){var t;return null!==(t=this.keyCountMapping.get(e))&&void 0!==t?t:0}map(e){const t=[];let s=0;for(const[r,i]of this.keyCountMapping.entries())t.push(e(r,i,s)),s++;return t}get size(){return this.keyCountMapping.size}}var n=s(73690),o=s(671070),a=s(877951),l=s(794002),u=s(218423),c=s(337137),d=s(353654),h=s(622614);class p{static jsonType(e){return null===e?"null":"undefined"===e?"undefined":Array.isArray(e)?"array":typeof e}static getSortedCategoriesWithCount(e){const t=e.map(((e,t)=>({category:e,count:t})));return t.sort(((e,t)=>t.count-e.count)),t}constructor(e,t={}){this.stats={emptyCount:0,invalidCount:0,nullCount:0,categoryCount:0,invalidCategoryCount:0,total:null,onlyInt:null,minimumDecimalDigits:0,jsonStats:{typeCount:0,types:[],keyCount:0,keys:[],valueCount:0,values:[]},invalidDueToExceedingBigNumberRange:!1},this.count=0,this.categoriesCounter=new i,this.jsonCounters={types:new i,keys:new i,values:new i},this.options={useNullPlaceholder:!1},this.minValue="",this.maxValue="",this.type=e||new d.y,this.options=Object.assign(Object.assign({},this.options),t)}export(){return Object.assign(Object.assign(Object.assign({},this.stats),this.exportCategoriesStats()),{jsonStats:this.exportJsonStats(),minValue:String(this.minValue),maxValue:String(this.maxValue),onlyInt:this.count>0&&!!this.stats.onlyInt})}exportCategoriesStats(){if(this.stats.categoryCount>1e4||this.stats.invalidCategoryCount>0)return{categories:null,categoryCount:0};const e=p.getSortedCategoriesWithCount(this.categoriesCounter);return{categories:e.slice(0,a.a.MAX_ITEMS),categoryCount:e.length}}exportJsonStats(){const e=p.getSortedCategoriesWithCount(this.jsonCounters.types),t=p.getSortedCategoriesWithCount(this.jsonCounters.keys),s=p.getSortedCategoriesWithCount(this.jsonCounters.values).map((e=>Object.assign(Object.assign({},e),{category:e.category.slice(0,c.a.STATS_MAX_VALUE_LENGTH)})));return{typeCount:e.length,types:e,keyCount:t.length,keys:t.slice(0,c.a.STATS_MAX_KEYS),valueCount:s.length,values:s.slice(0,c.a.STATS_MAX_VALUES)}}addValue(e){if(this.count++,""!==e)if(null===e||this.options.useNullPlaceholder&&e===h.L)this.stats.nullCount++;else if(this.type.isValidValue(e)){if(!(this.type instanceof d.y))if(this.type instanceof c.a){const t=this.type.getNativeValue(e),s=p.jsonType(t);if(this.jsonCounters.types.add(s),"object"===s)Object.keys(t).forEach((e=>{this.jsonCounters.keys.add(e)}));else if("string"===s||"number"===s||"boolean"===s){const e=String(t);this.jsonCounters.values.add(e)}}else if((this.type instanceof a.a||this.type instanceof o.D)&&this.stats.categoryCount<=1e4)a.a.isCategorical(e)?(this.stats.categoryCount=this.categoriesCounter.size,this.categoriesCounter.add(e)):this.stats.invalidCategoryCount++;else{if(this.type instanceof u.V){const t=this.type.getNativeValue(e);t.domain&&this.categoriesCounter.add(t.domain)}if(this.type instanceof n.L){const t=new r.Z(e);if(n.L.isExponentialNumberBeyondLimit(t))return void(this.stats.invalidDueToExceedingBigNumberRange=!0);this.computeStatsForBigNumberValue(t)}else{const t=this.type.getSortableValue(e);this.computeStatsForNativeValue(t)}}}else this.stats.invalidCount++;else this.stats.emptyCount++}computeStatsForNativeValue(e){if((""===this.minValue||e<this.minValue)&&(this.minValue=e),(""===this.maxValue||e>this.maxValue)&&(this.maxValue=e),this.type instanceof n.L||this.type instanceof l.V){if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),e%1!=0&&(this.stats.onlyInt=!1),null!=this.stats.total){const t=this.stats.total+e;return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER&&(this.stats.total=t,!0)}this.stats.total=e}return!0}computeStatsForBigNumberValue(e){if((""===this.minValue||e.lt(this.minValue))&&(this.minValue=e),(""===this.maxValue||e.gt(this.maxValue))&&(this.maxValue=e),this.type instanceof n.L||this.type instanceof l.V)if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),n.L.isFloat(e)&&(this.stats.onlyInt=!1),null==this.stats.total)this.stats.total=e;else{if(n.L.isExponentialNumberBeyondLimit(this.stats.total))return void(this.stats.invalidDueToExceedingBigNumberRange=!0);this.stats.total instanceof r.Z?this.stats.total=this.stats.total.plus(e):this.stats.total=new r.Z(this.stats.total).plus(e)}}}},689372:(e,t,s)=>{s.d(t,{$:()=>n});class r{constructor(e,t,s){this.bufferSize=e,this.rowStreamForBuffer=t,this.errorHandler=s,this.rowBuffer=[],this.rowStream=null}writeRow(e){return this.rowStream?this.rowStream.writeRow(e):(this.rowBuffer.push(e),this.rowBuffer.length>=this.bufferSize&&this.createRowStream(),!1)}createRowStream(){try{this.rowStream=this.rowStreamForBuffer(this.rowBuffer);for(let e=0;e<this.rowBuffer.length;e++)this.rowStream.writeRow(this.rowBuffer[e])}catch(e){this.error(e)}}close(){this.rowStream||this.createRowStream(),this.rowStream.close()}error(e){this.rowStream?this.rowStream.error(e):this.errorHandler&&this.errorHandler(e)}}var i=s(78820);class n extends i.A{constructor(e,t,s,i=!0){super(e,t),this.normalizers=s,this.rowIdx=0,this.shouldNormalizeRows=i,this.bufferStream=new r(100,(s=>{const r=s.slice(1);return this.normalizers.forEach((s=>s.normalizeSheet(e,r,t))),this.bufferStream=null,this}),this.error.bind(this))}writeRow(e){return this.bufferStream?this.bufferStream.writeRow(e):(this.rowIdx++,this.rowIdx>1&&this.shouldNormalizeRows&&this.normalizers.forEach((t=>t.normalizeRow(this.sheet,e))),super.writeRow(e))}close(){this.bufferStream?this.bufferStream.close():super.close()}}},78820:(e,t,s)=>{s.d(t,{A:()=>r});class r{constructor(e,t){this.sheet=e,this.colNames=t,this.buffered=[],this.closed=!1,this.iterRowIdx=0}static from(e){const t=new r;return Object.assign(t,e),t}writeRow(e){if(this.closed)console.error("RowStream already closed");else if(this.iter){if(this.iterRowIdx++,this.iter(e,this.iterRowIdx))return this.close(),!0}else this.buffered.push(e)}readRows(e){return this._error?Promise.reject(this._error):(this.iter=e,new Promise(((t,s)=>{this.resolve=t,this.reject=s;const r=this.closed;if(this.buffered){for(let t=0;t<this.buffered.length;t++)if(this.iterRowIdx++,e(this.buffered[t],this.iterRowIdx)){this.close();break}delete this.buffered}r&&t(void 0)})))}error(e){this._error=e,this.reject&&this.reject(e)}close(){this.closed||(this.resolve&&this.resolve(void 0),this.closed=!0)}}},248050:(e,t,s)=>{s.d(t,{k:()=>R,v:()=>I});var r=s(73690),i=s(794002),n=s(859026);const o=/^(#)?([,\.])?(##)?(0+)(\.0+)?(%|\\%)?$/,a=/^"?([\$¥£€])/;class l{getTypes(e,t){const s=[];for(let t=1;t<=e.maxCol;t++){const r=e.cols[t];if(r.style){const i=e.styles[r.style];s.push(new u(t,i))}}const r={};return s.forEach((e=>{const t=e.getType();t&&(r[e.colIdx]=t)})),r}}class u{constructor(e,t){this.colIdx=e,this.style=t}getType(){return this.detectCurrency(this.style)||this.detectNumber(this.style)||this.detectDate(this.style)||null}detectNumber(e){const t=e.fmt.default,s=e.fmt.type,i=e.align,n=t.match(o);if(!n&&"num"!==s)return null;if("num"===s&&"@"===t&&"left"===i)return null;const a=new r.L;return n?a.update({precision:n[5]?n[5].length-1:0,thousandsSep:n[2]?n[2]:"",isPercent:!!n[6]}):a}detectDate(e){return"date"!==e.fmt.type?null:new n.U}detectCurrency(e){return e.fmt.default.match(a)?new i.V:null}}var c=s(362232);const d=class{constructor(e){this.cb=e,this.chunk="",this.latestValues=[]}consumeChunk(e){const t=this.chunk+e;let s=this.latestValues,r=!1,i=0;for(let e=0;e<t.length;e++){const n=t[e];if(r){if('"'==n&&e<t.length-1){const n=t[e+1];'"'==n?e++:","!=n&&"\n"!=n||(s.push(t.substring(i+1,e).replace(/""/g,'"')),"\n"==n&&(this.cb(s),s=[]),e++,i=e+1,r=!1)}}else"\n"==n?(s.push(t.substring(i,e)),this.cb(s),s=[],i=e+1):","==n?(s.push(t.substring(i,e)),i=e+1):'"'==n&&(r=!0)}this.chunk=t.substr(i),this.latestValues=s}close(){this.chunk&&this.consumeChunk("\n")}};var h=s(447630);class p{constructor(){this.colStyleCounter={}}incrementColStyleCount(e,t){this.colStyleCounter[e]||(this.colStyleCounter[e]={}),null==this.colStyleCounter[e][t]?this.colStyleCounter[e][t]=1:this.colStyleCounter[e][t]++}normalizeSheet(e){const t=this.colStyleCounter;Object.keys(t).forEach((s=>{const r=t[s];let i=null,n=0;Object.keys(r).forEach((function(e){const t=r[e];t>n&&(i=e,n=t)})),i&&(e.cols[s].style=Number(i))}))}normalizeRow(){}}var f=s(353654);class g{constructor(e,t=[]){this.detectors=e,this.colTypes={},this.detectors=e,this.colsToNormalize=t}normalizeSheet(e,t,s){for(let t=1;t<=e.maxCol;t++)e.cols[t].type||this.colsToNormalize.includes(t)||this.colsToNormalize.push(t);const r={};this.detectors.forEach((i=>{const n=i.getTypes(e,t,this.colsToNormalize,s);for(const t of this.colsToNormalize)null!=n[t]&&(r[t]=n[t],e.cols[t].type=n[t])}));for(const t of this.colsToNormalize)delete e.cols[t].style,e.cols[t].type||(e.cols[t].type=new f.y);this.colTypes=c.g.generateTypes(e)}normalizeRow(e,t){for(let e=0;e<this.colsToNormalize.length;e++){const s=this.colsToNormalize[e],r=s-1;t[r]=this.colTypes[s].getStringValue(t[r])}}}var m=s(622614),v=s(320392),w=s(449986),y=s(473010);class S{constructor(e,t={}){var s;this.sheet=e,this.stats={};for(let r=1;r<=e.maxCol;r++)this.stats[r]=new y.K(null===(s=e.cols[r])||void 0===s?void 0:s.type,t)}addValues(e){for(let t=0;t<e.length;t++)this.stats[t+1].addValue(e[t])}save(){for(let e=1;e<=this.sheet.maxCol;e++){const t=this.stats[e].export(),s=this.sheet.cols[e];s.stats=t,"category"===s.type.id&&null==t.categories&&(s.type.id="text")}}}var E=s(689372),b=s(78820);const _=500;class R{constructor(e,t,s){this.sheet=e,this.blobClient=t,this.options=s,e=Object.assign({},e);const r={};for(let t=1;t<=e.maxCol;t++){let s=Object.assign({},e.cols[t]);s||(s={}),s.type&&(s.type=c.g.objectToType(s.type)),r[t]=s}e.cols=r;const i=[];for(let t=0;t<e.styles.length;t++){const s=v.e.simplifyStyle(e.styles[t]);s.fmt.default.match(/[0#]/)||"date"==s.fmt.type?s.align="right":s.align="left",i.push(s)}e.styles=i,this.sheet=e,this.options=Object.assign({detectors:null,normalizers:null},s)}rowStream(e={}){const t=e.headerRow||1,s=this.sheet,r=this.blobClient,i=this.options,n=!!i.includeBlankRows;return new Promise((function(o,a){let u=null,c=0;const f=new p;function w(t){const r=new v.e.ColNames(t);if(m.J.isTypedSheet(s))u=new b.A(s,r);else{const t=i.detectors||[new l],n=i.normalizers||[f,new g(t)];u=new E.$(s,r,n,e.shouldNormalizeRows)}return o(u),u.writeRow(u.colNames.names())}if(0==t){const e=[];for(let t=0;t<s.maxCol;t++)e.push("");w(e)}function y(e){if(u&&u.closed)return!0;if(c++,c<t)return!1;for(let t=e.length;t<s.maxCol;t++)e.push("");if(c===t)return w(e);for(let t=0;t<e.length;t++)if(n||""!==e[t])return u.writeRow(e);return!1}function S(){u?u.closed||u.close():a(new Error("Cannot create row stream. Sheet is empty."))}if(s.rows){for(let e=1;e<=s.maxRow;e++){const t=s.rows[e],r=[];if(void 0!==t&&void 0!==t.cells)for(let e=1;e<=s.maxCol;e++){const s=t.cells[e];void 0!==s&&""!==s.v?(r.push(s.v),s.s&&f.incrementColStyleCount(e,s.s)):r.push("")}if((r.length>0||n)&&y(r))break}S()}else{if(!r)return S();r.read(s.rowsBlob,(function(e){if(200!=e.statusCode)return void a(new Error("Received bad status code ("+e.statusCode+") for rowsBlob: "+s.rowsBlob));e.setEncoding("utf8");const t=new d(y);e.on("data",(function(e){t.consumeChunk(e)})),e.on("end",(function(){t.close(),S()})),e.on("error",(function(e){h.cM.error(new Error("Received blob read error for "+s.rowsBlob+": "+e)),function(e){u?u.error(e):a(e)}(e)}))}))}}))}}const T={generateStats:!1,keepStats:!1,shouldUpdateWidths:!0,useNullPlaceholder:!1};class I{constructor(e,t,s={}){this.blobClient=e,this.ctx=t,this.options=T,this.options=Object.assign(Object.assign({},this.options),s)}writeStream(e,t=-1,s=!1){var r;const i=this.options.generateStats,n=this.options.keepStats,o={cols:e.sheet.cols,maxCol:e.sheet.maxCol,maxRow:0,styles:e.sheet.styles,properties:{ySplit:1,defaultRowHeight:28},parameters:e.sheet.parameters},a=null===(r=e.sheet.parameters)||void 0===r?void 0:r.time_output_format;return void 0===t&&(t=-1),new Promise(((r,l)=>{let u=null,d=null;this.blobClient?(delete o.rows,d=this.blobClient.startWrite((function(e){l(e)}))):o.rows={};const h={},p={};let f=0;for(let e=1;e<=o.maxCol;e++)h[e]={maxWidth:0,rowsTouched:0,rowsChecked:0};let g=null,v=null;e.readRows((e=>{if(null===g){g=[];for(let e=0;e<o.styles.length;e++)g.push(Object.assign({},o.styles[e]));w.r.processStyles(g),v=c.g.generateColStyles(o.cols,a)}let r=!1,n=0;for(;n<e.length;n++)if(e[n]||null===e[n]){r=!0;break}if(!r&&!s)return!1;if(o.maxRow++,!u&&i&&(u=new S(o,{useNullPlaceholder:this.options.useNullPlaceholder})),this.options.shouldUpdateWidths&&f<o.maxCol)for(let t=1;t<=e.length;t++){const s=h[t];s.rowsChecked>=100||s.rowsTouched>=1e3?p[t]||(p[t]=!0,f++):this.updateColWidth({i:n,sheet:o,values:e,styles:g,colTypeStyles:v,colIdx:t,colWidthCount:s})}if(u&&o.maxRow>1&&u.addValues(e),d){const t=[];for(let s=0;s<e.length;s++)l=t,(y=e[s]).match(A)&&(y='"'+y.replace(/"/g,'""')+'"'),l.push(y);d.write(t.join(",")+"\n")}else(-1==t||o.maxRow<=t+1)&&(o.rows[o.maxRow]=m.J.sheetRowForValues(e));var l,y;return!1})).then((()=>{if(-1===t)o.totalRows=o.maxRow;else if(o.maxRow>t){for(let e=o.maxRow;e>t;e--)delete o.rows[e];o.totalRows=o.maxRow,o.maxRow=t}if(u?u.save():u||n||m.J.removeColStats(o),this.options.shouldUpdateWidths)for(let e=1;e<=o.maxCol;e++){let t=h[e].maxWidth;const s=o.cols[e].type,r=v[e],i=o.cols[e].stats;s&&"category"===s.id&&i&&i.categories&&(t=this.updateWidthForCategoricalCol({categories:i.categories,colStyle:r,sheet:o,currColWidth:h[e].maxWidth})),t>0?o.cols[e].width=t:delete o.cols[e].width}this.blobClient?this.blobClient.endWrite(d,(function(e){o.rowsBlob=e,r(o)})):r(o)})).catch((function(e){l(e)}))}))}measureText(e,t,s){const r=s?e:m.J.formatCellValue(e,t);return!r||r.length<8?0:r.length>166.66666666666666?_:s?v.e.colHeaderWidth(this.ctx,r):v.e.colWidth(this.ctx,r)}updateColWidth(e){const{i:t,sheet:s,values:r,styles:i,colTypeStyles:n,colIdx:o,colWidthCount:a}=e,l=r[o-1];if("string"!=typeof l&&null!==l&&h.cM.warn(`Invalid value in row ${t+1}, values:${r}`),void 0===l||""===l)return void a.rowsTouched++;let u=i[s.cols[o].style||0];if(1==s.maxRow?u=v.e.simplifiedHeaderStyle:n[o]&&(u=n[o]),a.maxWidth<_){const e=Math.min(this.measureText(l,u,1==s.maxRow),_);e>a.maxWidth&&(a.maxWidth=e)}a.rowsChecked++,a.rowsTouched++}updateWidthForCategoricalCol(e){const{categories:t,colStyle:s,sheet:r,currColWidth:i}=e;let n=i;for(let e=0;e<t.length;e++){const i=t[e].category,o=this.measureText(i,s,1==r.maxRow);if(o>=_){n=_;break}o>n&&(n=o)}return n}}const A=/[",\n]/},331694:(e,t,s)=>{s.d(t,{p:()=>r});const r={standard:"Standard",premier:"Premier",premier_plus_1:"Premier Plus 1",premier_plus_2:"Premier Plus 2",enterprise:"Enterprise",business_critical:"Business Critical",vps:"VPS"}},410115:(e,t,s)=>{s.d(t,{A:()=>r,x:()=>i});const r="/session/query",i="/files/query"},612454:(e,t,s)=>{s.d(t,{b1:()=>i,iV:()=>n,pP:()=>r,tL:()=>o});const r="rate-limiter-queues-request",i="rate-limiter-start-queuing",n="rate-limiter-queue-cleared",o="rate-limiter-normalizing-url-error"},853448:(e,t,s)=>{s.d(t,{o:()=>o});var r=s(881677),i=s(133330),n=s(183252);function o(e,t,s="/v0",o=!0){var a,l;const u=!!(null===(l=null===(a=r.X.stores)||void 0===a?void 0:a.user)||void 0===l?void 0:l.isGuestUser)||!!t.isGuest,c=(0,n.r)(window.location.hostname),d=u&&o&&!c;return`${d&&!(0,i.WC)()?"":t.appServerUrl}${s}${d?"/guest":""}${e}`}},163991:(e,t,s)=>{s.d(t,{i:()=>i});var r=s(209578);function i(e){return!(!e||0===e.length)&&(e.includes(r.Jk)||e.includes(r.XW))}},931374:(e,t,s)=>{s.d(t,{j:()=>i});var r=s(209578);function i(e){return!(!e||0===e.length)&&(e.includes(r.rJ)||e.includes(r.XW))}},347148:(e,t,s)=>{s.d(t,{w:()=>i});var r=s(209578);function i(e){return!(!e||0===e.length)&&e.includes(r.GF)}},375199:(e,t,s)=>{s.d(t,{h:()=>i});var r=s(209578);function i(e){return!!e&&(e===r.Jk||e===r.XW)}},684384:(e,t,s)=>{s.d(t,{l:()=>i});var r=s(209578);function i(e){return!!e&&(e===r.rJ||e===r.XW)}},576515:(e,t,s)=>{s.d(t,{E:()=>i});var r=s(209578);function i(e){return!!e&&e===r.GF}},558975:(e,t,s)=>{function r(e,t){return e.includes(".privatelink.")||!t.includes(".privatelink.")?e:t.includes(".int.")?e.replace(/\.int\.snowflakecomputing\./,".privatelink.int.snowflakecomputing.").replace(/\.testdns\.snowflakecomputing\./,".privatelink.testdns.snowflakecomputing.").replace(/:\d+$/,""):e.replace(/\.snowflakecomputing\./,".privatelink.snowflakecomputing.")}s.d(t,{N:()=>r})},333669:(e,t,s)=>{s.d(t,{m:()=>f});var r=s(373951),i=s(388800),n=s(766529),o=s(963768),a=s(931597),l=s(587780),u=s(515971),c=s(820346),d=s(451138),h=s(989685),p=s(998657);function f(){const{formatMessage:e}=(0,d.Z)(),{getDocsUrl:t}=(0,p.V)();return(0,r.jsxs)(i.g,{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",textAlign:"center",fontWeight:600,marginBottom:8,children:[(0,r.jsx)(n.x,{flexGrow:1,textAlign:"left",color:o.Q2.primaryTextColor,children:(0,r.jsx)(h.Z,{id:"Where to find your account identifier"})}),(0,r.jsx)(a.r,Object.assign({href:t("/user-guide/admin-account-identifier"),target:"_blank","aria-label":e({id:"Learn more about signing in"})},(0,l.b)(4),(0,u.J)([0,"-4px","-4px",0]),{children:(0,r.jsx)(c.JO,{icon:"help-circle-bold",size:16,color:o.Il.Gray50})}))]})}f.displayName="AccountIdentifierHelpSection"},403115:(e,t,s)=>{s.d(t,{F:()=>u});var r=s(373951),i=s(522279),n=s(388800),o=s(492507),a=s(989685),l=s(981316);const u=({stores:e})=>(0,r.jsx)(i.h,{children:(0,r.jsx)(n.g,{overflowX:"hidden",width:"100%",position:"relative",children:(0,r.jsxs)(n.g,{display:"flex",flexDirection:"row",minHeight:"100vh",height:"100%",alignItems:"center",justifyContent:"center",transitionProperty:"width",transitionDuration:"0.5s",transitionTimingFunction:"ease",role:"main",renderRoot:e=>(0,r.jsx)("main",Object.assign({},e)),children:[(0,r.jsx)(i.m,{children:(0,r.jsx)(o.a,{children:(0,r.jsx)(a.Z,{id:"Sign in to your account"})})}),(0,r.jsx)(l.ZP,{autofocus:!0,showSignUp:!0,stores:e})]})})});u.displayName="SignInPage"},799450:(e,t,s)=>{s.d(t,{I:()=>n});var r=s(387681),i=s(89397);function n(){return(0,i.D)()?".snowflakecomputing.cn":(0,r.p)()?".snowflakecomputing.mil":".snowflakecomputing.com"}},231494:(e,t,s)=>{s.d(t,{P:()=>n});var r=s(133330),i=s(853356);const n=()=>(0,r.WC)()&&!!localStorage.getItem(i.F.SNOWSIGHT_DEVELOPER_TOOLS)},387681:(e,t,s)=>{function r(){return window.location.hostname.endsWith(".mil")}s.d(t,{p:()=>r})},50375:(e,t,s)=>{function r(e,t,s){let r,i,n,o,a;const l=function(){const u=(new Date).getTime()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,s||(a=e.apply(n,i),r||(n=i=null)))},u=function(...u){n=this,i=arguments,o=(new Date).getTime();const c=s&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(n,i),n=i=null),a};return u.cancel=function(){clearTimeout(r),r=null},u}s.d(t,{D:()=>r})},606112:(e,t,s)=>{s.d(t,{W:()=>n});var r=s(510667),i=s.n(r);function n(e){return i().h32(e,3735928559).toString(16)}},446991:(e,t,s)=>{function r(e,t,s){let r,i,n,o,a=0;s||(s={});const l=function(){a=!1===(null==s?void 0:s.leading)?0:(new Date).getTime(),r=0,o=e.apply(i,n),r||(i=n=null)},u=function(){const u=(new Date).getTime();a||!1!==(null==s?void 0:s.leading)||(a=u);const c=t-(u-a);return i=this,n=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=0),a=u,o=e.apply(i,n),r||(i=n=null)):r||!1===(null==s?void 0:s.trailing)||(r=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(r),a=0,r=0,i=n=null},u.flush=function(){if(r)return clearTimeout(r),l(),o},u}s.d(t,{P:()=>r})},626363:(e,t,s)=>{s.d(t,{g:()=>d});var r=s(373951),i=s(766529),n=s(963768),o=s(871488),a=s(357515),l=s(300565),u=s(228391),c=s(40992);const d=({stores:e})=>{c.useEffect((()=>{var t;return null===(t=null==e?void 0:e.analytics)||void 0===t?void 0:t.track("GLOBALERROR_SHOWN")}),[e]);const t=function(){const e=Date.now();return[{start:"2024-10-19T00:00:00Z",end:"2024-10-19T23:59:59Z"},{start:"2024-10-26T00:00:00Z",end:"2024-10-26T23:59:59Z"},{start:"2024-11-02T00:00:00Z",end:"2024-11-02T23:59:59Z"},{start:"2024-11-09T00:00:00Z",end:"2024-11-09T23:59:59Z"},{start:"2024-11-16T00:00:00Z",end:"2024-11-16T23:59:59Z"},{start:"2024-11-23T00:00:00Z",end:"2024-11-23T23:59:59Z"},{start:"2024-11-24T00:00:00Z",end:"2024-11-24T23:59:59Z"},{start:"2024-12-01T00:00:00Z",end:"2024-12-01T23:59:59Z"},{start:"2024-12-07T00:00:00Z",end:"2024-12-08T23:59:59Z"},{start:"2024-12-14T00:00:00Z",end:"2024-12-15T23:59:59Z"},{start:"2024-12-21T00:00:00Z",end:"2024-12-22T23:59:59Z"},{start:"2024-12-28T00:00:00Z",end:"2024-12-29T23:59:59Z"},{start:"2025-01-04T00:00:00Z",end:"2025-01-05T23:59:59Z"},{start:"2025-01-11T00:00:00Z",end:"2025-01-12T23:59:59Z"},{start:"2025-01-18T00:00:00Z",end:"2025-01-19T23:59:59Z"},{start:"2025-01-25T00:00:00Z",end:"2025-01-26T23:59:59Z"}].some((t=>{const s=new Date(t.start).getTime(),r=new Date(t.end).getTime();return e>=s&&e<=r}))}(),s=t?"Snowsight is currently undergoing scheduled maintenance.":"Something went wrong",d=t?(0,r.jsxs)(i.x,{size:"large",textAlign:"center",color:n.Q2.secondaryTextColor,marginBottom:"2em",children:["Please check back soon or see ",(0,r.jsx)(o.h,{color:n.Q2.linkColor,href:"http://status.snowflake.com",external:!0,children:"status.snowflake.com"})," for more details"]}):(0,r.jsx)(i.x,{size:"large",textAlign:"center",color:n.Q2.secondaryTextColor,marginBottom:"2em",children:"Please refresh the page"});return(0,r.jsx)(a.M0.Context,{name:"GlobalError",children:(0,r.jsx)(l.X,{height:"100vh",verticalAlign:"middle",align:"center",backgroundColor:n.Il.Gray10,children:(0,r.jsxs)(u.s,{children:[(0,r.jsx)(i.x,{size:"xxlarge",color:n.Q2.primaryTextColor,fontWeight:700,textAlign:"center",marginBottom:"0.5em",children:s}),d,!1]})})})};d.displayName="GlobalError"},497715:(e,t,s)=>{s.d(t,{s:()=>a});var r=s(751599),i=s.n(r),n=s(406474),o=s(693392);class a extends o.H{constructor(e,t){super(e||"UNCREATED_FOLDER_ID",t),this.orgId=t.orgId||null,this.type=t.type,this.ownerId=t.ownerId||null,this.name=t.name||this.defaultName(this.type,t.isImported),this.slug=t.slug||this.id,this.url=t.url||null,this.editable=t.editable||!1,this._virtual=t.virtual||!1}defaultName(e,t){const s=i()().format("YYYY-MM-DD"),r=e===n.i0?n.i0:"folder";return t?`Import ${s}`:`${s} ${r}`}label(e,t=!0){return e(t?{id:"Folder"}:{id:"folder"})}get virtual(){return this._virtual}toReduxState(){return{id:this.id,type:this.type}}}},189381:(e,t,s)=>{s.d(t,{B:()=>i});var r=s(693392);class i extends r.H{constructor(e,t={}){super(e,t),this.modified=t.modified,this.version=t.version,this.type=t.type,this.sheet=t.sheet,this.steps=t.steps,this.primary=t.primary,this.secondary=t.secondary,this.secondary.domain&&this.secondary.domain[0]==Number.MAX_SAFE_INTEGER&&(this.secondary.domain=["auto","auto"]),this.lineStyle=t.lineStyle||{},this.points=t.points||!1,this.barStyle=t.barStyle||{},this.tableStyle=t.tableStyle||{},this.error=t.error,this.maxSeries=t.maxSeries,this.comparison=t.comparison,this.showLegend=void 0===t.showLegend||t.showLegend,this.snowflakeRequestId=t.snowflakeRequestId}getModelStoreIndexableByUUID(){return`${this.id}`}static cloneChartWithNewSnowflakeRequestId(e,t){return new i(e.id,Object.assign(Object.assign({},e),{snowflakeRequestId:t}))}}},340736:(e,t,s)=>{s.d(t,{Z:()=>c});var r=s(751599),i=s.n(r),n=s(868228);class o{tileId(e,t,s){return`${e}-${t}-${s}`}constructor(e){const t={};for(const s of e)for(const e of s.cells)t[this.tileId(e.pid,e.displayMode,e.chartId||"")]=!0;this._tiles=t}isTablePlaced(e){return!!this._tiles[this.tileId(e.id,"table","")]}isChartPlaced(e,t){var s;let r="";return t.id!==(null===(s=e.chartInfos[0])||void 0===s?void 0:s.id)&&(r=String(t.id)),!!this._tiles[this.tileId(e.id,"chart",r)]}allTilesPlaced(e){for(const t of e){if(!this.isTablePlaced(t))return!1;for(const e of t.chartInfos)if(!this.isChartPlaced(t,e))return!1}return!0}}class a{constructor(e){this._rows=e||[]}get rows(){return this._rows}get cells(){return this._rows.reduce(((e,t)=>e.concat(t.cells)),[])}normalizedRows(e,t,s=!1){const r={};for(const t of e)r[t.id]=!0;const i=[];for(const e of this._rows){const n=[];if(e.cells)for(const i of e.cells)if(r[i.pid]||null==i.pid){const e=i.pid,r=t?`${e}:${t}`:e;n.push(Object.assign(Object.assign({},i),{pid:e,pidToLoad:r,staticEnter:s&&!!e}))}i.push(Object.assign(Object.assign({},e),{cells:n}))}return i}normalizedCells(e,t){return this.normalizedRows(e,t).reduce(((e,t)=>e.concat(t.cells)),[])}get fingerprint(){return this._rows.map((e=>e.cells.map((e=>`${e.pid}:${e.version}`)))).join("-")}getPlacedTiles(){return new o(this._rows)}hasPid(e,t){return!!this._rows.find((s=>s.cells.find((s=>s.pid===e&&(!t||s.displayMode===t)))))}markAsRefreshing(){this._rows.forEach((e=>{e.cells.forEach((e=>{e.refreshing=!0}))}))}transform(e){e.forEach((({action:e,params:t})=>{const{pid:s,displayMode:r,chartId:i,rowIdx:n,cellIdx:o,row:a,cell:l,height:u}=t;switch(e){case"resizeRow":this._resizeRow(n,u);break;case"insertRow":this._insertRow(n,a);break;case"insertCell":this._insertCell(n,o,l);break;case"removeCell":this._removeCell(s,r,i)}this._rows=this._rows.filter((e=>e.cells.length>0))}))}_resizeRow(e,t){this._rows[e]&&(this._rows[e].height=t)}_insertRow(e,t){t.cells.forEach((e=>this._removeCell(e.pid,e.displayMode,e.chartId))),this._rows.splice(e,0,Object.assign(Object.assign({},t),{height:2}))}_insertCell(e,t,s){this._removeCell(s.pid,s.displayMode,s.chartId),this._rows[e].cells.splice(t,0,s)}_removeCell(e,t,s){"number"==typeof s&&(s=String(s)),this._rows=this._rows.map((r=>(r.cells=r.cells.filter((r=>!(r.pid===e&&(!t||r.displayMode===t)&&(!s&&!r.chartId||s&&r.chartId===s)))),r)))}}var l=s(406474),u=s(698324);class c extends u.b{constructor(e,t){var s;super(e,Object.assign(Object.assign({},t),{type:l.i0})),this.dashboard=new a(null===(s=this.settings.dashboard)||void 0===s?void 0:s.rows),this.runnable=t.runnable||!1,this.refreshed=t.refreshed?i()(t.refreshed).toDate():new Date,this.resultsViewable=t.resultsViewable||!1,this.isRefreshDead=t.isRefreshDead||!1}label(e,t=!0){return e(t?{id:"Dashboard"}:{id:"dashboard"})}markAsRefreshing(){this.refreshing=!0,this.dashboard.markAsRefreshing()}createAllowedOverrides(){return new n.y3({database:!0,schema:!0})}}},610477:(e,t,s)=>{s.d(t,{z:()=>l});var r=s(487099),i=s(220640),n=s(176622),o=s(486390),a=s(693392);class l extends a.H{constructor(e,t={}){var s;super(e,t),this.version=t.version||void 0,this.modifiedTime=t.modifiedTime?new Date(t.modifiedTime):null,this.queryLanguage=t.queryLanguage||"sql",this.query=null!==(s=t.query)&&void 0!==s?s:this.defaultQuery,this.queryLanguageConfig=t.queryLanguageConfig||null,this.queryRange=t.queryRange||null,this.paramRefs=(t.paramRefs||[]).map(i.NV.fromObject),this.executionContext=new o.f(t.executionContext),this.appSessionId=t.appSessionId||0}shouldModelUpdate(e){return!1}toObject(){return JSON.parse(JSON.stringify(this))}isCreateProcedureEnabled(){switch(this.queryLanguage){case"java":case"javascript":case"python":case"scala":return!0;default:return!1}}update({query:e=this.query,queryLanguage:t=this.queryLanguage,queryLanguageConfig:s=this.queryLanguageConfig,queryRange:r=this.queryRange,executionContext:n=this.executionContext,paramRefs:a=this.paramRefs,modifiedTime:l=this.modifiedTime}){this.query=e,this.queryLanguage=t,this.queryLanguageConfig=s,this.queryRange=r,this.modifiedTime=l,this.executionContext=new o.f(n),this.paramRefs=(a||[]).map(i.NV.fromObject)}getModelStoreIndexableByUUID(){return this.id}clone(e){return new l(e,Object.assign(Object.assign({},this),{modifiedTime:this.modifiedTime||void 0,queryLanguageConfig:this.queryLanguageConfig||void 0,queryRange:this.queryRange||void 0,executionContext:this.executionContext||void 0}))}get defaultQuery(){var e;return n.o[null!==(e=null==this?void 0:this.queryLanguage)&&void 0!==e?e:""]||""}get isEmpty(){return!(this.query||"").trim()}get isTooLong(){return this.query.length>r.gT.QUERY_MAX_DRAFT_LENGTH}}},406474:(e,t,s)=>{s.d(t,{E8:()=>n,i0:()=>r,pD:()=>i});const r="dashboard",i="list",n="color1"},814407:(e,t,s)=>{function r(e){return e.split(":")[0]}function i(e){return e.split(":")[1]}s.d(t,{p:()=>r,t:()=>i})},698324:(e,t,s)=>{s.d(t,{b:()=>d});var r=s(963768),i=s(487099),n=s(220640),o=s(868228),a=s(497715),l=s(486390),u=s(406474),c=s(814407);class d extends a.s{constructor(e,t){super(e,t),this.unsavedKey=(0,c.t)(this.id),this.originalId=(0,c.p)(this.id),this.visibility=t.visibility||i.gT.FOLDER_DEFAULT_VISIBILITY,this.modified=t.modified?new Date(t.modified):void 0,this.members=t.members||[],this.isImported=t.isImported||!1,this._executionContext=new l.f(t.executionContext||{}),this.refreshing=!!t.refreshing;let s=[];s=this.unsavedKey&&t.settings&&t.settings.unsavedParams?t.settings.unsavedParams[this.unsavedKey]||[]:t.paramRefs||[],this.paramRefs=s.map(n.NV.fromObject),this._settings=t.settings||{},this.allowedOverrides=this.createAllowedOverrides()}createAllowedOverrides(){return new o.y3({warehouse:!0,database:!0,schema:!0})}get isUnsaved(){return!!this.unsavedKey}get settings(){return this._settings}get executionContext(){return this._executionContext}get color(){return r.Il.Blue50}get colorId(){return this.settings.color||u.E8}markAsRefreshing(){this.refreshing=!0}}},237267:(e,t,s)=>{function r(e){return[...e].map((e=>JSON.parse(e)))}function i(e){return n(function(e){const t=Object.assign({},e.secId);return Object.keys(t).forEach((e=>!t[e]&&delete t[e])),Object.assign(Object.assign({},e),{secId:t})}(e))}function n(e){if("number"==typeof e)return e.toString();if("object"!=typeof e||null===e)return JSON.stringify(e);if(Array.isArray(e)){const t=[];for(let s=0;s<e.length;s++){const r=n(e[s])||JSON.stringify(null);t.push(r)}return`[${t.join(",")}]`}{const t=Object.keys(e).sort(),s=[];for(let r=0;r<t.length;r++){const i=t[r];s.push(`${JSON.stringify(i)}:${n(e[i])}`)}return`{${s.join(",")}}`}}s.d(t,{v:()=>r,z:()=>i})},54978:(e,t,s)=>{s.d(t,{L:()=>d});var r=s(295183),i=s(510729),n=s(622614),o=s(624163),a=s(449708),l=s(693392),u=s(485241),c=s(230783);class d extends l.H{constructor(e,t={}){super(e,t),this.version=t.version,this._unprocessedSheet=t.skipStatsCasting?t.sheet:this.castStatsToBigNumberMutates(t.sheet),this.sheet=t.processedSheet,this.ready=t.ready,this.canceled=t.canceled,this.populated=t.populated,this.cappedRows=t.cappedRows,this.error=t.error,this.rewritten=t.rewritten,this.modified=t.modified?new Date(t.modified):void 0,this.processingPromise=t.processingPromise,this.snowflakeRequestId=t.snowflakeRequestId,this.snowflakeQueryId=t.snowflakeQueryId}snapshot(){return{version:this.version,sheet:this._unprocessedSheet,processedSheet:this.sheet,ready:this.ready,canceled:this.canceled,populated:this.populated,cappedRows:this.cappedRows,error:this.error,rewritten:this.rewritten,modified:this.modified,processingPromise:this.processingPromise,snowflakeRequestId:this.snowflakeRequestId,snowflakeQueryId:this.snowflakeQueryId}}getModelStoreIndexableId(){return this.version?`${(0,a.d)(this.id)}@${this.version}`:(0,a.d)(this.id)}getModelStoreIndexableByUUID(){return-1!==this.id.indexOf(":")?this.id:this.snowflakeRequestId?`${(0,a.d)(this.id)}##${this.snowflakeRequestId}`:this.id}castStatsToBigNumberMutates(e){return e&&e.cols&&Object.values(e.cols).map((e=>{var t,s;null!=(null===(t=e.stats)||void 0===t?void 0:t.total)&&(e.stats.total=new o.Z(e.stats.total)),(null===(s=e.stats)||void 0===s?void 0:s.histogram)&&(e.stats.histogram.range=e.stats.histogram.range.map((e=>new o.Z(e))),e.stats.histogram.interval=new o.Z(e.stats.histogram.interval))})),e}isExactMatch(e){const[t,s]=e.split("@"),r=(0,a.d)(this.id);return!!this.version&&r===t&&this.version===parseInt(s,10)}get hasStats(){return this.sheet&&(1==n.J.totalRows(this.sheet)||n.J.isStatsSheet(this.sheet))}get awaitingStats(){return this.populated&&!this.ready&&!this.error&&!n.J.isSheetResultTooLargeForStatsOrSearch(this._unprocessedSheet)}clone(){return new d(this.id,this.snapshot())}cloneAsUnversioned(){return new d(this.id,Object.assign(Object.assign({},this.snapshot()),{version:void 0}))}cloneWithNewRequestId(e){return new d(this.id,{sheet:this._unprocessedSheet,processedSheet:this.sheet,version:void 0,snowflakeQueryId:void 0,snowflakeRequestId:e})}setAsCanceled(){this.canceled=!0,this._unprocessedSheet=null,this.sheet=null}isOlderThan(e){return!(!this.modified||!e.modified)&&this.modified<e.modified}async processSheet(e={generateTypesOnly:!1}){if(this.sheet)return;let t=this._unprocessedSheet;t&&(t.requiredRoles?this.sheet=t:n.J.isEmptySheet(t)||n.J.isValidSheetWithNoData(t)?void 0!==t.rows&&null!==t.rows&&(this.sheet=await p(t)):(t=!this.ready||n.J.isPartialSheet(t)||n.J.isStatsSheet(t)||e.generateTypesOnly?await p(t):await h(t),this.sheet=t))}async refreshSheetWithStats(){var e;if(this.sheet&&!(null===(e=this.sheet)||void 0===e?void 0:e.requiredRoles)&&!n.J.isEmptySheet(this.sheet)&&!n.J.isValidSheetWithNoData(this.sheet)&&this.ready&&!n.J.isPartialSheet(this.sheet)&&!n.J.isStatsSheet(this.sheet)){let e;e=n.J.isTypedSheet(this.sheet)?await h(this.sheet,{shouldUpdateWidths:!1}):await h(this.sheet),this.sheet=e}}}async function h(e,t={shouldUpdateWidths:!0}){const{shouldUpdateWidths:s}=t;return e=await(0,i.ey)(e,r.k.get(),void 0,void 0,s),(0,c.J)(e)}async function p(e){return n.J.isTypedSheet(e)||(e=await(0,u.k)(e,r.k.get())),(0,c.J)(e)}},425468:(e,t,s)=>{s.d(t,{h:()=>u});var r=s(340736),i=s(447630),n=s(698324);class o extends n.b{constructor(e,t){super(e,t),i.cM.error("FolderModel with type "+t.type+" created")}}var a=s(406474);class l extends n.b{constructor(e,t){const s=a.pD;super(e,Object.assign(Object.assign({},t),{type:s}))}}function u(e,t){switch(t.type){case a.i0:return new r.Z(e,t);case a.pD:return new l(e,t);default:return new o(e,t)}}},485241:(e,t,s)=>{s.d(t,{k:()=>a});var r=s(136819),i=s(618243),n=s(510729),o=s(248050);async function a(e,t,s){const a=new o.k(e,s,{detectors:[new i.f,new r.n],includeBlankRows:!0}),l=await a.rowStream({shouldNormalizeRows:!1}),u=new o.v(null,t,{generateStats:!1,keepStats:!0});let c=await u.writeStream(l,-1,!0);return c.totalRows=e.totalRows,c.sortable=e.sortable,c.sortableBytesLimit=e.sortableBytesLimit,c=(0,n.ku)(c),c}},230783:(e,t,s)=>{s.d(t,{J:()=>a});var r=s(362232),i=s(510729),n=s(320392),o=s(449986);function a(e){return e&&e.maxRow&&e.maxRow>0&&(e=r.g.generateSheetTypes(e),(e=(0,i.ku)(e)).styles&&o.r.processStyles(e.styles),e.colNames=n.e.ColNames.fromSheet(e),e.properties&&(e.properties.xSplit=1)),e}},529089:(e,t,s)=>{s.d(t,{E:()=>k});var r=s(447630),i=s(824077),n=s.n(i),o=s(334308),a=s(865375),l=s(189381),u=s(693392);class c extends u.H{constructor(e,t={}){super(e,t),null==t.modified&&r.cM.error("DBSchemaModel data has undefined modified date"),this.modified=new Date(t.modified),null==t.lastUpdated&&r.cM.error("DBSchemaModel data has undefined lastUpdated date"),this.lastUpdated=new Date(t.lastUpdated),this.loading=t.loading,this.tables=null==t?void 0:t.tables,this.namespacesDetails=t.namespacesDetails,this.defaultNamespace=t.defaultNamespace}isOlderThan(e){return!!e.modified&&this.modified<e.modified}}var d=s(610477);class h extends u.H{constructor(e,t){super(e,t),this.pids=t.pids||[]}}var p=s(308971);class f extends u.H{constructor(e,t={}){super(e,t),this.schemaCards=t.schemaCards||{}}}var g=s(54978),m=s(209578),v=s(486390);class w extends u.H{constructor(e,t){var s;super(e||"UNCREATED_USER_ID",t),this.email=t.email||"",this.name=t.name?t.name:t.username,this.firstName=t.firstName||"",this.lastName=t.lastName||"",this.canModifyParameters=t.canModifyParameters||!1,this.modifyParameterRoles=t.modifyParameterRoles||[],this.username=t.username,this.avatar=t.avatar||"",this.defaultOrgId=t.defaultOrgId||"",this.settings=t.settings||{},this.lastUsedQueryContext=new v.f(this.settings.lastUsedQueryContext),this.hasAdminRole=!!t.hasAdminRole,this.hasAccountAdminRole=!!t.hasAccountAdminRole,this.hasOrgAdminRole=!!(null===(s=t.availableRoles)||void 0===s?void 0:s.includes(m.rJ)),this.availableRoles=t.availableRoles||[],this.exchangeRoles=t.exchangeRoles||[],this.grantedRoles=t.grantedRoles||[]}get initials(){return this.name?this.name.split(" ").map((e=>e[0])).join("").replace(/\s+/,"").toUpperCase():""}}var y=s(487099),S=s(497715),E=s(406474);class b extends S.s{constructor(e,t){super(y.gT.DASHBOARDS_FOLDER_ID,{name:"Dashboards",orgId:e.id,ownerId:t,type:E.pD,url:`${e.appPath}/dashboards`,virtual:!0,editable:!0})}label(e){return e({id:"Dashboards"})}}class _ extends S.s{constructor(e,t){super(y.gT.QUERIES_FOLDER_ID,{name:"Worksheets",orgId:e.id,ownerId:t,type:E.pD,url:`${e.appPath}/worksheets`,virtual:!0,editable:!0})}label(e){return e({id:"Worksheets"})}}class R extends u.H{constructor(e,t){super(e,t),this.name=t.name,this.state=t.state,this.type=t.type,this.size=t.size,this.minClusterCount=parseInt(t.min_cluster_count),this.maxClusterCount=parseInt(t.max_cluster_count),this.startedClusters=parseInt(t.started_clusters),this.running=parseInt(t.running),this.queued=parseInt(t.queued),this.isDefault="Y"===t.is_default,this.isCurrent="Y"===t.is_current,this.autoSuspend=parseInt(t.auto_suspend),this.autoResume="false"!=t.auto_resume.toLowerCase(),this.available=parseInt(t.available)||0,this.provisioning=parseInt(t.provisioning)||0,this.quiescing=parseInt(t.quiescing)||0,this.other=parseInt(t.other)||0,this.createdOn=Date.parse(t.created_on),this.resumedOn=Date.parse(t.resumed_on),this.updatedOn=Date.parse(t.updated_on),this.owner=t.owner,this.comment=t.comment,this.scalingPolicy=t.scaling_policy}}class T extends u.H{constructor(e,t){super(e,t),this.folderId=t.id,this.modified=new Date(t.modified).getTime(),this.userId=t.userId,this.orgId=t.orgId,this.totalWorksheets=t.totalWorksheets,this.loading=t.loading,this.numOfSuccessfulWs=t.numOfSuccessfulWs,this.failedWorksheets=t.failedWorksheets||[]}isOlderThan(e){return this.modified<e.modified}}var I=s(425468),A=s(449708),C=s(995397);const O=(0,C.createAction)("shadowObjectSet");(0,C.createAction)("shadowObjectPropSet"),(0,C.createAction)("shadowObjectMapSet");class x{constructor(e,t,s,r){this.identifier=e,this._models=t?((e,t,s)=>new Proxy({},{set(e,r,i,n){if("string"==typeof r&&"toReduxState"in i&&"function"==typeof i.toReduxState){const e=structuredClone(i.toReduxState());s.dispatch(O({name:t,id:r,value:e}))}return Reflect.set(e,r,i,n)},deleteProperty:(e,t)=>(delete e[t],!0)}))(0,e,t):{},this.isLasikEnabled=null!=s&&s,this._updatersById={},this.isNewModelCollectionNewIndexingEnabled=null!=r&&r,this.shadowMapForSearch={}}list(){return Object.values(this._models)}get(e,t){return!e||e&&"string"!=typeof e?this._models[e]:this.isLasikEnabled&&["QueryModel","QueryResultsModel"].includes(this.identifier)?this.isNewModelCollectionNewIndexingEnabled?this.getByShadowMap(e,t):this.getByRequestId(e,t):this.getByVersion(e)}getByShadowMap(e,t){const s=(0,A.d)(e),r=this.shadowMapForSearch[s];if(r)return t?r.map[t]:-1!==e.indexOf("@")?Object.values(r.map).find((t=>t.isExactMatch(e))):r.latest?r.map[r.latest]:void 0}getByVersion(e){return-1===e.indexOf("@")?this._models[e]:this.list().find((t=>t.isExactMatch(e)))||this._models[e]}getByRequestId(e,t){var s,r;const i=-1!==e.indexOf("@");let n=this._models[e];return n=t?this.list().find((s=>s.getModelStoreIndexableByUUID()===`${e}##${t}`)):i?this.list().find((t=>t.isExactMatch(e))):null===(r=null===(s=this.list().filter((t=>t.id===e)))||void 0===s?void 0:s.sort(((e,t)=>"modified"in e&&"modified"in t?e.modified||t.modified?t.modified?e.modified&&e.modified<t.modified?-1:1:-1:0:e.isOlderThan(t)?-1:1)))||void 0===r?void 0:r.pop(),n}insert(...e){e.forEach((e=>{this.isLasikEnabled?(this.isNewModelCollectionNewIndexingEnabled&&this.mirrorInShadowMap(e),this.insertByUUID(e)):this.insertById(e)}))}mirrorInShadowMap(e){const t=(0,A.d)(e.getModelStoreIndexableId()),s=e.snowflakeRequestId;this.shadowMapForSearch[t]||(this.shadowMapForSearch[t]={map:{}}),s?this.shadowMapForSearch[t].map[s]=e:this.shadowMapForSearch[t].map[t]=e,this.updateLatestModel(e)}updateLatestModel(e){const t=(0,A.d)(e.getModelStoreIndexableId()),s=this.shadowMapForSearch[t].latest,r=s?this.shadowMapForSearch[t].map[s]:void 0,i=!e.version&&!e.modified,n=e&&r&&e.version>r.version;(!r||i||n)&&(this.shadowMapForSearch[t].latest=e.snowflakeRequestId||t)}insertByUUID(e){const t=e.getModelStoreIndexableByUUID()||e.getModelStoreIndexableId();this._models[t]=e}insertById(e){const t=this._models[e.id],s=null==t?void 0:t.getModelStoreIndexableId(),r=e.getModelStoreIndexableId();s&&r&&s!==r&&(this._models[s]=t),this._models[e.id]=e}receive(e,t){if(!t)return!1;const s=this.get(e);if(s&&!s.shouldModelUpdate(t))return!1;if(s&&t.isOlderThan(s))return!1;const r=this._updatersById[e];if(null!=r)for(const e of r)e(t);return this.insert(t),t}remove(e){const t=this.get(e);if(t)if(this.isLasikEnabled&&this.isNewModelCollectionNewIndexingEnabled){this.removeFromShadowMap(t.id);const e=t.getModelStoreIndexableByUUID();e&&delete this._models[e]}else delete this._models[t.id]}removeFromShadowMap(e){const t=(0,A.d)(e),s=this.shadowMapForSearch[t],r=-1!==e.indexOf("@");if(s){if(r)for(const t of Object.keys(s.map))if(s.map[t].isExactMatch(e))return void delete s.map[t];s.latest&&delete s.map[s.latest]}}addUpdater(e,t){const s=this._models[e];s&&t(s);let r=this._updatersById[e];r||(r=[],this._updatersById[e]=r),r.push(t)}removeUpdater(e,t){const s=this._updatersById[e];s.splice(s.indexOf(t),1)}}var U=function(e,t){return function(s,r){t(s,r,e)}};let k=class{constructor(e,t,s){this.isLasikEnabled=t,this.isNewModelCollectionNewIndexingEnabled=s,this.reduxStore=e,this.charts2=new x("ChartModel",e,t),this.dbSchemas=new x("DBSchemaModel",e,t),this.worksheetImports=new x("WorksheetImportsModel",e,t),this.drafts=new x("DraftModel",e,t),this.folders=new x("GenericListOrDashboardFolderModel",e,t),this.queries=new x("QueryModel",e,t,s),this.queryHistories=new x("QueryHistoryModel",e,t),this.queryPrefs=new x("QueryPrefsModel",e,t),this.queryResults=new x("QueryResultsModel",e,t,s),this.users=new x("UserModel",e,t),this.warehouses=new x("WarehouseModel",e,t)}createVirtualFolders(e,t){this._virtualDashboardsRootFolder=new b(e,t),this._virtualWorksheetsRootFolder=new _(e,t)}virtualDashboardsRootFolder(){return this._virtualDashboardsRootFolder}virtualWorksheetsRootFolder(){return this._virtualWorksheetsRootFolder}create(e,t,s){let i=s;if("string"==typeof s)try{i=JSON.parse(s)}catch(e){r.cM.error(e)}switch(e){case this.charts2:return new l.B(t,i);case this.dbSchemas:return new c(t,i);case this.worksheetImports:return new T(t,i);case this.drafts:return new d.z(t,i);case this.folders:return(0,I.h)(t,i);case this.queries:return new p.e(t,i);case this.queryHistories:return new h(t,i);case this.queryPrefs:return new f(t,i);case this.queryResults:return new g.L(t,i);case this.users:return new w(t,i);case this.warehouses:return new R(t,i);default:return}}receive(e){if(e){const t={};if(this.reduxStore){const t=n()(e,["queries","queryResults","drafts"]);t&&this.reduxStore.dispatch((0,a.B)(structuredClone(t)))}Object.keys(e).forEach((s=>{t[s]=0,Object.keys(e[s]).forEach((i=>{const n=this[s],o=this.create(n,i,e[s][i]);o?(n.receive(i,o),++t[s]):r.cM.warn("ModelStore",`Unable to instantiate new model for ${s}/${i}`,e)}))}))}}};k=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,o.ri)(),U(0,(0,o.f3)("False")),U(1,(0,o.f3)("isNewModelIndexingEnabled")),U(2,(0,o.f3)("isNewModelCollectionIndexingEnabled"))],k)},51787:(e,t,s)=>{s.d(t,{B:()=>r});const r=/^\/(.*?)(?:\/(.*?))?(?:\/(.*?))?(?:\/(.*?))?$/u},836713:(e,t,s)=>{s.d(t,{j:()=>r});const r=/^([0-9a-z]*[\w-]*-)?(w[0-9a-zA-Z]+(?::[^@]+)?(?:@[0-9]+)?)$/u},297992:(e,t,s)=>{s.d(t,{l:()=>a});var r=s(694262),i=s(51787),n=s(836713);const o=e=>{let t=e.pathname,s=e.hash,r=e.search;Object.defineProperties(e,{pathname:{get(){if(((e,t)=>""===t||(e=>{const t=e.match(i.B),[s,r,o,a,l]=t;return a&&n.j.test(a)})(e))(t,s))return t;const e=s.indexOf("?"),r=-1===e?s.length:e;var o,a;return`${a=s,!(o=t).endsWith("/")&&a.startsWith("#/")?`${o}/`:o}${decodeURI(s.slice(2,r))}`},set(e){t=e},configurable:!1},hash:{get:()=>s,set(e){s=e},configurable:!1},search:{get(){if(""===(e=s)||-1===e.indexOf("?"))return r;var e;const t=s.indexOf("?");return s.slice(t)},set(e){r=e},configurable:!1}})},a=r.l;o(a.location),a.listen((e=>{o(e)}))},81356:(e,t,s)=>{s.d(t,{w:()=>a});var r=s(828898),i=s(66370),n=s(334308),o=function(e,t){return function(s,r){t(s,r,e)}};let a=class{constructor(e,t){this.net=e,this.getRequestContext=t}async post(e,t,s,i){const n={};let o;return(null==s?void 0:s.isJsonBody)?(n["Content-Type"]="application/json",o=JSON.stringify(t)):t instanceof FormData?o=t:t&&(o=r.nZ(t)),!1===(null==s?void 0:s.keepAlive)&&(n["x-snowflake-keep-alive"]=!1),await this.net.nufetchForm(e,this.getRequestContext(),Object.assign(Object.assign({},i),{method:"POST",body:o,headers:Object.assign(Object.assign({},(null==s?void 0:s.overrideDefaultHeaders)?Object.assign(Object.assign({},this.defaultHeaders()),null==i?void 0:i.headers):Object.assign(Object.assign({},null==i?void 0:i.headers),this.defaultHeaders())),n)}),null==s?void 0:s.versionPrefix)}defaultHeaders(){return{"X-Snowflake-Request-Id":this.getRequestContext().requestId||i.Z()}}async get(e,t,s,i){let n=e;const o={};if(!1===(null==s?void 0:s.keepAlive)&&(o["x-snowflake-keep-alive"]=!1),t){const e=r.nZ(t);e.length>0&&(n+=`?${e}`)}return await this.net.nufetch(n,this.getRequestContext(),Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},null==i?void 0:i.headers),this.defaultHeaders()),o)}),null==s?void 0:s.versionPrefix)}delete(e,t){return this.net.nufetchForm(e,this.getRequestContext(),Object.assign(Object.assign({},t),{method:"DELETE"}))}};a=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,n.ri)(),o(0,(0,n.f3)("Net")),o(1,(0,n.f3)("getRequestContext"))],a)},230064:(e,t,s)=>{s.d(t,{s:()=>r});class r{get getDatadogRum(){throw new Error("not implemented")}get roleResolver(){throw new Error("not implemented")}get featureFlags(){throw new Error("not implemented")}get v1toV0QueriesAdapter(){throw new Error("not implemented")}get getUUIDv4(){throw new Error("not implemented")}}},875269:(e,t,s)=>{s.d(t,{M:()=>i,f:()=>r});const r="UI_ENABLE_UI_PLATFORM_FEATURE_40",i="UI_ENABLE_UI_PLATFORM_FEATURE_41"},239105:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(427283),i=s(552317),n=s.n(i),o=s(310741),a=s(606112),l=s(173339),u=s(63600);const c=e=>{var t,s,i,c,d,h,p,f,g,m,v,w,y,S,E,b,_,R,T,I,A,C,O;const x=n()(u.H),U=x(e.sqlQuery)?e.sqlQuery.desc:null!==(s=null===(t=e.options)||void 0===t?void 0:t.desc)&&void 0!==s?s:"unknown",{errorType:k,errorCode:N,errorMessage:F,errorStatusCode:P}=(e=>{var t,s,r;let i=null,n=null,a=null,l=null;if(e instanceof o.M)l=e.statusCode,i=null!==(t=e.code)&&void 0!==t?t:null,n=null!==(s=e.message)&&void 0!==s?s:null,a=null!==(r=e.externalErrorCause.type)&&void 0!==r?r:null;else if(e instanceof Error)n=e.message,a="unknown";else if(e&&"object"==typeof e)try{n=JSON.stringify(e),a="unknown"}catch(e){}else"string"==typeof e&&(n=e,a="unknown");return{errorType:a,errorCode:i,errorMessage:n,errorStatusCode:l}})(e.error),L=((e,t)=>{if(!e||!t)return null;if(e.cols.length!==t.cols.length)return!1;for(let s=0;s<e.cols.length;s++)if(e.cols[s].name!==t.cols[s].name||e.cols[s].type!==t.cols[s].type)return!1;return!0})(e.result,e.shadowedResult),D=((e,t,s)=>{if(!t||!s)return null;if(t.rows.length!==s.rows.length)return!1;if(!("metadata"in(i=t))||"object"!=typeof i.metadata||null===i.metadata||!("cellTransformations"in i.metadata))return null;var i;const n=(e=>0===e.rows.length?[]:1===e.rows.length?[0]:[0,Math.floor(e.rows.length/2),e.rows.length-1])(t),o=t.metadata.cellTransformations,{matchSoFar:a,compared:l}=n.reduce(((i,n)=>{if(!i.matchSoFar)return{matchSoFar:i.matchSoFar,compared:i.compared};const a=t.rows[n],l=s.rows[n];if(!a||!l)throw new Error("unable to obtain rows for comparison");let u=!0,c=!1;for(let t=0;t<o.length;t++)if(!o[t]&&(u=a[t]===l[t],c=!0,!u)){r.log.info("instrumentSqlPassthrough",`failed cell match for ${e}`,{"row index":n,"cell index":t,"cell transforms for the row":o,"result row compared":a,"initial/basis result row compared":l,"result cell value in question":a[t],"initial/basis cell value in question":l[t]});break}return{matchSoFar:u,compared:c}}),{matchSoFar:!0,compared:!1});return l?a:null})(U,e.result,e.shadowedResult);!1!==L&&!0!==L||r.log.info("instrumentSqlPassthrough",`columns comparison for ${U}`,{"columns isomorphic?":L}),!1!==D&&!0!==D||r.log.info("instrumentSqlPassthrough",`rows comparison for ${U}`,{"rows isomorphic?":D});const j=e.shadowedResult?null:(0,l.G)(e.sqlQuery);try{const t={initiator:e.initiator,version:e.version,desc:U,queryHash:x(e.sqlQuery)?(0,a.W)(e.sqlQuery.sqlQuery.sqlText):(0,a.W)(e.sqlQuery.sqlText),readonlyQuery:j,shadowModeId:e.shadowModeId,isGuestFetch:e.isGuestFetch,duration:e.end-e.start,noOfColumns:null!==(d=null===(c=null===(i=e.result)||void 0===i?void 0:i.cols)||void 0===c?void 0:c.length)&&void 0!==d?d:null,noOfRows:null!==(f=null===(p=null===(h=e.result)||void 0===h?void 0:h.rows)||void 0===p?void 0:p.length)&&void 0!==f?f:null,totalRows:null!==(m=null===(g=e.result)||void 0===g?void 0:g.totalRows)&&void 0!==m?m:null,requestId:x(e.sqlQuery)?null!==(v=e.sqlQuery.requestId)&&void 0!==v?v:null:null!==(y=null===(w=e.options)||void 0===w?void 0:w.requestId)&&void 0!==y?y:null,keepAlive:x(e.sqlQuery)?null:null!==(E=null===(S=e.options)||void 0===S?void 0:S.keepAlive)&&void 0!==E?E:null,cacheToRefresh:x(e.sqlQuery)?null:null!==(_=null===(b=e.options)||void 0===b?void 0:b.cacheToRefresh)&&void 0!==_?_:null,expectsTableResults:x(e.sqlQuery)?null:null!==(T=null===(R=e.options)||void 0===R?void 0:R.expectsTableResults)&&void 0!==T?T:null,pid:x(e.sqlQuery)?null!==(I=e.sqlQuery.pid)&&void 0!==I?I:null:null!==(C=null===(A=e.options)||void 0===A?void 0:A.pid)&&void 0!==C?C:null,suppliedSecondaryRoles:x(e.sqlQuery)?void 0!==e.sqlQuery.secondaryRoles:void 0!==(null===(O=e.options)||void 0===O?void 0:O.secondaryRoles),errorType:k,errorCode:N,errorMessage:F,errorStatusCode:P,columnsComparison:L,rowsComparison:D};e.shadowedResult&&r.log.info("instrumentSqlPassthrough","data",t),e.datadog.addAction("sqlPassthrough",t)}catch(e){r.log.error(e)}}},638614:(e,t,s)=>{s.d(t,{u:()=>i});var r=s(63600);const i=e=>(0,r.H)(e)?void 0===e.pid:void 0===e.pid&&void 0===e.cacheToRefresh},173339:(e,t,s)=>{s.d(t,{G:()=>i});var r=s(63600);const i=e=>{const t=(0,r.H)(e)?e.sqlQuery.sqlText.toLowerCase().trim():e.sqlText.toLowerCase().trim();return t.startsWith("select ")||t.startsWith("describe ")||t.startsWith("show ")}},63600:(e,t,s)=>{s.d(t,{H:()=>r});const r=e=>{return null!=e&&"object"==typeof e&&"sqlQuery"in e&&null!=(t=e.sqlQuery)&&"object"==typeof t&&"sqlText"in t&&"bindingsJSON"in t&&"role"in e&&"isInternal"in e&&"desc"in e;var t}},550576:(e,t,s)=>{s.d(t,{X:()=>u});var r=s(373951),i=s(300565),n=s(388800),o=s(963768),a=s(766529),l=s(989685);const u=({marginTop:e=24,marginBottom:t=24})=>(0,r.jsxs)(i.X,{align:"center",verticalAlign:"middle",height:"0.1em",marginTop:e,marginBottom:t,children:[(0,r.jsx)(n.g,{backgroundColor:o.Q2.borderColor,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"}),(0,r.jsx)(a.x,{display:"block",height:"100%",lineHeight:"0.1em",marginLeft:"20px",marginRight:"20px",whiteSpace:"nowrap",children:(0,r.jsx)(l.Z,{id:"or"})}),(0,r.jsx)(n.g,{backgroundColor:o.Q2.borderColor,lineHeight:"0.1em",textAlign:"center",width:"100%",height:"100%"})]});u.displayName="OrDivider"},232490:(e,t,s)=>{s.d(t,{P:()=>r});const r=()=>{const e=i();return null==e?void 0:e._ga},i=()=>document.cookie.split("; ").reduce(((e,t)=>{const[s,...r]=t.split("=");return e[s]=r.join("="),e}),{})},868228:(e,t,s)=>{s.d(t,{P4:()=>i,y3:()=>r});class r{constructor(e={}){this.role=!!e.role,this.warehouse=!!e.warehouse,this.database=!!e.database,this.schema=!!e.schema}clone(){return new r({role:this.role,warehouse:this.warehouse,database:this.database,schema:this.schema})}intersect(e){const t=this.clone();for(const s in t)t[s]=t[s]&&e[s];return t}invert(){const e=this.clone();for(const t in e)e[t]=!e[t];return e}}const i=new r({}).invert()},753539:(e,t,s)=>{s.d(t,{Z:()=>u});var r=s(427283),i=s(881677),n=s(133330),o=s(231494),a=s(378961),l=s(71950);function u(e,t,s){const u=a.yA[e];if(s&&(!u.preventClientOverrides||(0,o.P)())){const t=(0,l.A7)()[e];if(null!=t)return t}if("string"==typeof t){if(null==t?void 0:t.match(/enabled/iu))return!0;if(null==t?void 0:t.match(/disabled/iu))return!1;if(null==t?void 0:t.match(/^v:/iu))return function(e){try{if(void 0===i.X.clientVersion||"local"===i.X.clientVersion)return!1;const t=e.substring(2),s=i.X.clientVersion,[r,n]=c(t),[o,a]=c(s);return o>r||o===r&&a>=n}catch(t){(0,n.WC)()&&r.log.error(`Unable to compare currentBuild ${i.X.clientVersion} against minVersion ${e}.`)}return!1}(t)}return u.default}function c(e){var t;return[parseInt(e.split("-")[0],10),parseInt(null!==(t=e.split("-")[1])&&void 0!==t?t:"1",10)]}},926506:(e,t,s)=>{s.d(t,{PageState:()=>a,p:()=>o});var r=s(447630),i=s(881677);let n="Snowflake";class o{constructor(){for(const e in this)void 0!==this[e]&&Object.defineProperty(this,e,{value:this[e],writable:!1,enumerable:!1})}bind(e,t={},s=!1){Object.assign(this,t);const r=t=>Object.assign(this,e(t));if(this.hasOwnProperty("__setter")&&void 0!==this.__setter&&!s)throw new Error("Cannot rebind the __setter of PageStateCls");return Object.defineProperty(this,"__setter",{value:r,configurable:!0}),r}set(e){this.__setter(e)}setModal(e,t){var s;const r=null==t.dismissable||!!t.dismissable,i=!!t.allowShortcuts,n=!!t.downToEarth,o={dismissable:r,allowShortcuts:i,downToEarth:n};t=Object.assign({dismissable:r,allowShortcuts:i,downToEarth:n},t),(null===(s=this.popover)||void 0===s?void 0:s.dismiss)&&this.popover.dismiss(),this.set({modal:Object.assign({elClass:e,props:t},o),popover:null})}toggleModal(e,t){null==this.modal||this.modal.elClass!==e?this.setModal(e,t):this.hideModal()}updateModalFeatures({dismissable:e,allowShortcuts:t,downToEarth:s},r){this.modal&&(this.modal.oldFeatures={dismissable:this.modal.dismissable,allowShortcuts:this.modal.allowShortcuts,downToEarth:this.modal.downToEarth},this.modal.dismissable=e,this.modal.allowShortcuts=t,this.modal.downToEarth=s,r())}resetModalFeatures(e){var t;(null===(t=this.modal)||void 0===t?void 0:t.oldFeatures)&&(this.modal.dismissable=this.modal.oldFeatures.dismissable,this.modal.allowShortcuts=this.modal.oldFeatures.allowShortcuts,e())}hideModal(){var e;this.modal&&((null===(e=this.popover)||void 0===e?void 0:e.inModal)&&this.hidePopover(),this.set({modal:null}))}setPopover(e){this.set({popover:e})}hidePopover(){var e;(null===(e=this.popover)||void 0===e?void 0:e.dismiss)&&this.popover.dismiss(),this.set({popover:null})}concealPopover(){var e;(null===(e=this.popover)||void 0===e?void 0:e.conceal)&&this.popover.conceal()}movePopover(e,t){if(this.popover&&this.popover.type===e&&t){const e=this.popover.move(t);this.set({popover:e})}}hideTooltip(){(this.tooltip||this.tooltipTimeout)&&(clearInterval(this.tooltipTimeout),this.set({tooltip:null,tooltipTimeout:null}))}showDragLayer(e){this.set({dragLayer:e})}hideDragLayer(){this.dragLayer&&this.set({dragLayer:null})}logError(e){r.cM.error(e),this.setError(e)}setError(e){this.set({error:e})}track(e,t,s,r,n){var o;(null===(o=null===i.X||void 0===i.X?void 0:i.X.stores)||void 0===o?void 0:o.analytics)&&"function"==typeof i.X.stores.analytics.track&&i.X.stores.analytics.track(e,t,s,r,n)}changeDefaultTitle(e){n=e}setDefaultTitle(){this.setTitle(n)}setTitle(e){e!==document.title&&(document.title=e)}flashMessage(e){this.setError({message:e})}}const a=new o},234139:(e,t,s)=>{s.d(t,{P:()=>w});var r=s(828898),i=s(410115),n=s(183252),o=s(881677),a=s(334308),l=s(529089),u=s(239105),c=s(638614),d=s(173339),h=s(98412),p=s.n(h),f=s(875269),g=s(52843),m=function(e,t){return function(s,r){t(s,r,e)}},v=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]])}return s};let w=class{constructor(e,t,s,r,i){this.urc=e,this.models=t,this.httpFactory=s,this.modelReceiver=r,this.securableAPIContext=i,this.backendHttp=s((()=>e.requestContext()))}context(){return this.securableAPIContext}async get(e,t,s,r,i){const n=s?this.httpFactory((()=>s)):this.backendHttp,o=await n.get(e,t,r,i),{models:a}=o,l=v(o,["models"]);return await this.modelReceiver.receive(a),l}async delete(e){const t=await this.backendHttp.delete(e),{models:s}=t,r=v(t,["models"]);return await this.modelReceiver.receive(s),r}async post({path:e,data:t,localUpdates:s=[],requestContext:r,options:i,requestOptions:n,track:o,mergeModels:a}){var l;const u="/queries"===e&&t&&"execute"===t.action&&o;for(const e of s)this.modelReceiver.addUpdater(e.model,e.id,e.updater);const c=r?this.httpFactory((()=>r)):this.backendHttp;let d,h;try{const s=performance.now();if(u)try{o(g.Y8U,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}l=await c.post(e,t,i,n),({models:h}=l),d=v(l,["models"]);const r=performance.now()-s;if(u)try{o(g.EKB,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:r}},void 0,!0)}catch(e){}}finally{for(const e of s)this.modelReceiver.removeUpdater(e.model,e.id,e.updater)}const p=performance.now();if(u)try{o(g.EKd,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}await this.modelReceiver.receive(((e,t)=>{if(e)try{return e(t)}catch(e){return t}return t})(a,h));const f=performance.now()-p;if(u)try{o(g.R2O,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:f}},void 0,!0)}catch(e){}return d}async v1query(e,t,s=null,r){var i;const n=null!==(i=t.requestId)&&void 0!==i?i:this.securableAPIContext.getUUIDv4(),o=Object.assign(Object.assign({},t),{requestId:n});let a,l,c;const d=performance.now();try{a=await this.securableAPIContext.v1toV0QueriesAdapter.query(e,o)}catch(e){l=e}finally{c=performance.now()}const h={version:1,initiator:"modelStoreAPI",isGuestFetch:!1,result:a,error:l,start:d,end:c,sqlQuery:e,options:o,shadowModeId:s,datadog:this.securableAPIContext.getDatadogRum()};if(r&&(h.shadowedResult=r),(0,u.A)(h),l)throw l;return a}async query(e,t){var s,r,a,l;const{desc:h,context:g,keepAlive:m,requestId:w}=t,y=v(t,["desc","context","keepAlive","requestId"]),S=!(!(null===(r=null===(s=o.X.stores)||void 0===s?void 0:s.user)||void 0===r?void 0:r.isGuestUser)&&!(null===(a=t.requestContext)||void 0===a?void 0:a.isGuest)||(0,n.r)(window.location.hostname)),E=null!==(l=t.requestContext)&&void 0!==l?l:this.urc.requestContext(),b=h?`?desc=${encodeURIComponent(h)}`:"",_=this.securableAPIContext.featureFlags.isEnabled(f.f),R=(0,c.u)(t);if(_&&R&&!S)return this.v1query(e,t);const T=h&&g?`#${new URLSearchParams(g).toString()}`:"";let I,A,C;const O=performance.now();try{({result:I}=S?await this.get(`${i.A}`,Object.assign({},e),Object.assign(Object.assign({},E),{requestId:w}),{keepAlive:!!m}):await this.post({path:`${i.A}${b}${T}`,data:Object.assign(Object.assign(Object.assign({},e),y),S?{}:{requestId:w}),localUpdates:void 0,requestContext:Object.assign(Object.assign({},E),{requestId:w}),options:{keepAlive:m}}))}catch(e){C=e}finally{A=performance.now()}const x=!S&&R&&this.securableAPIContext.featureFlags.isEnabled(f.M)&&(0,d.G)(e),U=x?this.securableAPIContext.getUUIDv4():null;if((0,u.A)({version:0,initiator:"modelStoreAPI",isGuestFetch:S,result:I,error:C,start:O,end:A,sqlQuery:e,options:t,shadowModeId:U,datadog:this.securableAPIContext.getDatadogRum()}),x&&p()((()=>{this.v1query(e,Object.assign(Object.assign({},t),{requestId:this.securableAPIContext.getUUIDv4()}),U,I)})),C)throw C;return I}async filesQuery(e,t){var s;const{desc:r,keepAlive:n}=t,o=v(t,["desc","keepAlive"]),a=null!==(s=t.requestContext)&&void 0!==s?s:this.urc.requestContext(),l=r?`?desc=${encodeURIComponent(r)}`:"";return await this.post({path:i.x+l,data:Object.assign(Object.assign({},e),o),localUpdates:void 0,requestContext:Object.assign(Object.assign({},a),{requestId:t.requestId}),options:{keepAlive:n}})}async restPassthrough(e,t,s,i,a,l="/session"){var u,c,d;const{desc:h,role:p,isJsonBody:f,keepAlive:g,requestId:m}=s,w=v(s,["desc","role","isJsonBody","keepAlive","requestId"]);let y;const S=null!==(u=s.requestContext)&&void 0!==u?u:this.urc.requestContext(),E=!(!(null===(d=null===(c=o.X.stores)||void 0===c?void 0:c.user)||void 0===d?void 0:d.isGuestUser)&&!S.isGuest||(0,n.r)(window.location.hostname));switch(e){case"POST":{const e=r.nZ(Object.assign({desc:h},a));y=await this.post({path:`${l}${t}${e}`,data:Object.assign(Object.assign(Object.assign({},i),w),E?{}:{requestId:m}),localUpdates:void 0,requestContext:Object.assign(Object.assign({},S),{requestId:m,role:p}),options:{isJsonBody:f,keepAlive:g}});break}case"GET":y=await this.get(`${l}${t}`,Object.assign({requestId:s.requestId,desc:h},a),Object.assign(Object.assign({},S),{requestId:m,role:p}),{keepAlive:!!g});break;default:throw new Error(`Unsupported rest passthrough type ${e}`)}return y}requestContext(e){return this.urc.requestContext(e)}};w=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,a.ri)(),m(0,(0,a.f3)("UserRequestContext")),m(1,(0,a.f3)(l.E)),m(2,(0,a.f3)("BackendHttpFactory")),m(3,(0,a.f3)("ModelReceiver")),m(4,(0,a.f3)("InternalSecurableAPIContext"))],w)},905578:(e,t,s)=>{s.d(t,{n:()=>a,y:()=>l});var r=s(447630),i=s(621445),n=s.n(i),o=s(926506);class a{constructor(e,t,s){this.reduxStore=t,this.isLasikEnabled=s,this.onError=(e,t)=>{r.cM.error(e,{message:t}),o.PageState.setError(t?new Error(t):e)},this._events=new(n()),this._events.setMaxListeners(1024)}destruct(){this.log("DESTROYED")}async bindStores(e,t={}){this._stores=e,this.storesDidBind&&await this.storesDidBind(e,t)}__subscribe(e,t){this._events.addListener("change",e),this._events.addListener("afterChange",t),this._events.addListener("error",this.onError)}__unsubscribe(e,t){this._events.removeListener("change",e),this._events.removeListener("afterChange",t),this._events.removeListener("error",this.onError)}error(e){this._events.emit("error",e)}notify(e,t){this.log(e),this.track(`STORE_${e}`),this._events.emit("change",e,t),this._events.emit("afterChange",e,t)}track(e,t,s,r){this._stores&&this._stores.analytics.track(e,t,s,r)}log(e,t){let s=`stores.${this.constructor.STORE_ID}`;const i=20-s.length;i>0&&(s+=" ".repeat(i)),r.cM.info(s,e,t)}}class l extends a{constructor(e,t,s,r){super(t,s,r),this.api=e}}},567153:(e,t,s)=>{s.d(t,{O:()=>o});var r=s(722381),i=s.n(r);const n=["streamlitSidebarCollapsed","streamlitSidebarWidth","streamlitEditorCollapsed","streamlitAppCollapsed","streamlitAppWidthPercentage","worksheetsSidebarTab","worksheetsSidebarCollapsed","worksheetsSidebarWidth","worksheetsTreeOpenPaths","worksheetsTreeSort"];var o;!function(e){function t(e,t,s){if(e.user.currentUser){const r=JSON.stringify(s);sessionStorage.setItem(t,r);const n=e.user.currentUser.settings[t];if(!i()(s,n))return e.user.currentUser.settings[t]=s,!0}return!1}e.load=function(e,t){var s,r,i,n;const o=null!==(r=JSON.parse(null!==(s=sessionStorage.getItem(t))&&void 0!==s?s:"null"))&&void 0!==r?r:void 0,a=null!==(n=null===(i=e.user.currentUser)||void 0===i?void 0:i.settings[t])&&void 0!==n?n:void 0;return void 0===o&&void 0!==a&&sessionStorage.setItem(t,JSON.stringify(a)),null!=o?o:a},e.save=async function(e,s,r){t(e,s,r)&&await e.user.saveSettings()},e.saveAll=async function(e,s){let r=!1;for(const[i,n]of Object.entries(s))t(e,i,n)&&(r=!0);r&&await e.user.saveSettings()},e.clearSession=function(){n.forEach((e=>sessionStorage.removeItem(e)))}}(o||(o={}))},497693:(e,t,s)=>{s.d(t,{m:()=>i});var r=s(183252);function i(e){return!(!e.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AX_FEATURE_9")&&(0,r.r)(window.location.hostname))&&(e.hasSuperAccountAdminRole&&e.replicationEnabled&&e.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CLIENT_REDIRECTS"))}},719161:(e,t,s)=>{s.d(t,{W:()=>i});var r=s(183252);function i(e){return!(!e.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AX_FEATURE_9")&&(0,r.r)(window.location.hostname))&&(e.replicationEnabled&&e.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_ACCOUNT_REPLICATION"))}},340434:(e,t,s)=>{s.d(t,{t:()=>i});var r=s(89397);function i(e){return!(0,r.D)()}},935500:(e,t,s)=>{s.d(t,{I:()=>r});const r=()=>!0},805728:(e,t,s)=>{s.d(t,{$:()=>o});var r=s(373951),i=s(40992),n=s(935500);function o(e,t=n.I){return function(s){return class extends i.PureComponent{constructor(){super(...arguments),this.getWrappedComponent=()=>this.connectorRef.getWrappedComponent(),this.render=()=>(0,r.jsx)(a,Object.assign({},this.props,{ref:e=>this.connectorRef=e,ConnectStoresComponent:s,storesToConnect:e||[],shouldUpdate:t}))}}}}class a extends i.PureComponent{constructor(e){super(e),this.onStoreChange=(e,t)=>{this.unmounted||this.componentRef&&this.componentRef.storeDidChange&&this.componentRef.storeDidChange(e,this.props.stores,t)},this.onAfterStoreChange=(e,t)=>{this.unmounted||this.componentRef&&this.shouldUpdate(e,this.props,t)&&this.componentRef.forceUpdate()},this.stores=this.storesForProps(e),this.shouldUpdate=e.shouldUpdate}storesForProps(e){if(!e.stores||!e.storesToConnect)return;const t={};e.storesToConnect.forEach((e=>{t[e.STORE_ID]=!0}));const s={};return Object.entries(e.stores).forEach((([e,r])=>{t[e]&&(s[e]=r)})),s}UNSAFE_componentWillReceiveProps(e){e.stores!==this.props.stores&&(this.stores=this.storesForProps(e))}componentDidMount(){Object.values(this.stores||{}).forEach((e=>{e.__subscribe(this.onStoreChange,this.onAfterStoreChange)})),this.componentRef&&this.componentRef.storesDidSubscribe&&this.componentRef.storesDidSubscribe(this.props.stores)}componentWillUnmount(){this.unmounted=!0,this.componentRef&&this.componentRef.storesWillUnsubscribe&&this.componentRef.storesWillUnsubscribe(this.props.stores),Object.values(this.stores||{}).forEach((e=>{e.__unsubscribe(this.onStoreChange,this.onAfterStoreChange)}))}getWrappedComponent(){return this.componentRef}render(){const e=this.props,{ConnectStoresComponent:t,storesToConnect:s,shouldUpdate:i}=e,n=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]])}return s}(e,["ConnectStoresComponent","storesToConnect","shouldUpdate"]);return(0,r.jsx)(t,Object.assign({ref:e=>this.componentRef=e,stores:this.stores},n))}}},248302:(e,t,s)=>{s.d(t,{A:()=>v});var r,i=s(142447),n=s(258192),o=s.n(n),a=s(917274),l=s.n(a),u=s(66370),c=s(881677),d=s(334308),h=s(446991),p=s(297992),f=s(232490),g=s(234139),m=s(905578);let v=r=class extends m.y{static isDisallowedDatadogEvent(e){return void 0!==e.type&&r.disallowedDatadogEventTypes.includes(e.type)}constructor(e){super(e,{}),this.queue=[],this.throttledCommit=h.P(this.commit.bind(this),3e4,{leading:!1}),this.activePid=null,this.activeFolderId=null,this.activeFolderType="",this.clientOperationIds=new Map,this.streamlitQueue=void 0}storesDidBind(e,t){const{pageType:s}=t;s&&this.track("PAGE_LOADED",{pageType:s})}updateActivePid(e){this.activePid=e}updateActiveFolder(e){var t,s;this.activeFolderId=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null,this.activeFolderType=null!==(s=null==e?void 0:e.type)&&void 0!==s?s:""}setStreamlitQueue(e){this.streamlitQueue=e}getStreamlitQueue(){return this.streamlitQueue}get props(){const e={ua:window.navigator.userAgent,cv:c.X.clientVersion,url:{path:p.l.location.pathname,query:p.l.location.search,hash:p.l.location.hash},rf:document.referrer,ws:{w:window&&window.innerWidth||0,h:window&&window.innerHeight||0}};return this.activePid&&(e.pid=this.activePid),this.activeFolderId&&(e.folderId=this.activeFolderId,e.folderType=this.activeFolderType),e}track(e,t={},s=!0,r=!1){this.newTrack(Object.assign({event:e},t),s,r)}newTrack(e,t=!0,s=!1){const r=String(Date.now());e.timestamp=r,e.idempotencyToken=u.Z(),e.metadata={},e.metadata.__debugClientTimestamp=r;const i=this._stores.user.api.urc.getWindowId();i&&(e.windowId=i);const n=this._stores.user.isGuestUser&&(0,f.P)();n&&(e.guestUserCookie=n);const o=Object.assign({eventLog:e,checkFullDiff:s},!s&&{consolidateRepeats:t});this.emitEventToDatadog(e),this.queue.push(o),this.throttledCommit()}emitEventToDatadog(e){if(!r.isDisallowedDatadogEvent(e)){"ui_track_view"===e.type&&i.v.startView(e.event);try{let t;void 0!==e.data&&l()(e.data)?t=e.data:void 0!==e.data&&(t={value:e.data}),i.v.addAction(e.event,t)}catch(t){console.error("Unable to emit event: ",e.data)}}}async commit(e){if(c.T.notProvisioned)return void(this.queue.length=0);e||(e=this.queue.splice(0,this.queue.length));const t=[],s={},r={};for(let i=0;i<e.length;i++){const{eventLog:n,consolidateRepeats:a,checkFullDiff:l}=e[i],{event:u}=n;if(a){if(null!=s[u]){s[u]++;continue}s[u]=0,t.push(n)}else if(l){if(!r[u]){r[u]=[{uniqueEvent:n,numRepeats:0}],t.push(n);continue}let e=!1;for(let t=0;t<r[u].length;t++){const s=r[u][t].uniqueEvent;if(o()(s,n)){r[u][t].numRepeats++,e=!0;break}}e||(r[u].push({uniqueEvent:n,numRepeats:0}),t.push(n))}else t.push(n)}for(let e=0;e<t.length;e++){const i=s[t[e].event];if("number"==typeof i){t[e].repeats=i;continue}const n=r[t[e].event];if(r&&n)for(const s of n)o()(s.uniqueEvent,t[e])&&s.numRepeats>0?t[e].repeats=s.numRepeats:t[e].repeats=0}if(t.length){this.log(`COMMIT (${t.length} events)`);try{await this.api.post({path:"/a/events",data:{events:t,props:this.props,now:(new Date).toISOString()}})}catch(e){}}}setClientOperationId(e,t){this.clientOperationIds.set(e,null!=t?t:u.Z())}getClientOperationId(e){return this.clientOperationIds.get(e)}deleteClientOperationId(e){this.clientOperationIds.delete(e)}};var w,y;v.STORE_ID="analytics",v.disallowedDatadogEventTypes=["ui_performance","ui_response_success","ui_scroll","ui_impression","ui_visit","ui_error","ui_response_error","ui_keyboard"],v=r=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,d.ri)(),(w=0,y=(0,d.f3)(g.P),function(e,t){y(e,t,w)})],v)},197666:(e,t,s)=>{s.d(t,{R:()=>l});var r=s(828898),i=s(91914),n=s(334308),o=s(905578),a=function(e,t){return function(s,r){t(s,r,e)}};let l=class extends o.n{constructor(e,t){super(t),this.userRequestContext=e,this.params=t;const s=t.snowflakeHostname;this._validatedHostnames=s?{[s]:!0}:{},this._validatedAccountRegionsResp={},this._accountInfo={}}storesDidBind(e,t){}_normalize(e){return null==e?e:e.trim().toLowerCase()}valid(e){return null==(e=this._normalize(e))||""===e||null==this._validatedHostnames[e]?null:this._validatedHostnames[e]}accountRegionUrl(e,t){return this._validatedAccountRegionsResp[`${e}/${t}`]}async validateAccountRegion(e,t){const s=await i.nufetch("/validate-snowflake-account-region?"+r.nZ({account:e,region:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._validatedAccountRegionsResp[`${e}/${t}`]=!!s.valid&&{gsLoginUrl:s.url,appServerUrl:s.appServerUrl,classicUIUrl:s.classicUIUrl},this.notify("ACCOUNT_REGION_VALIDATED")}async validateURL(e,t=!1){if(e=this._normalize(e),!0!==this._validatedHostnames[e]){if(null!==this._validatedHostnames[e]){try{this._validatedHostnames[e]=null;const s=await i.nufetch("/validate-snowflake-url?"+r.nZ({url:e,isSecondaryAccount:t}),this.userRequestContext.requestContext(),void 0,void 0,!1);this._accountInfo[e]=s,this._validatedHostnames[e]=s.valid}catch(t){delete this._validatedHostnames[e],this.error(t)}this.notify("HOSTNAME_VALIDATED")}}else this.notify("HOSTNAME_VALIDATED")}accountInfo(e){return this._accountInfo[this._normalize(e)]||null}};l.STORE_ID="sfAccountValidation",l=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,n.ri)(),a(0,(0,n.f3)("UserRequestContext")),a(1,(0,n.f3)("PageState"))],l)},731956:(e,t,s)=>{s.d(t,{U:()=>H});var r=s(142447),i=s(487099),n=s(303673),o=s(447630),a=s(828898),l=s(122920),u=s(878463),c=s(331694),d=s(91914),h=s(209578),p=s(931374),f=s(375199),g=s(684384),m=s(881677),v=s(133330),w=s(886700),y=s(237267),S=s(529089),E=s(81356),b=s(378961),_=s(753539),R=s(926506),T=s(234139),I=s(905578),A=s(567153),C=s(497693),O=s(719161);class x{async receive(e){}addUpdater(e,t,s){}removeUpdater(e,t,s){}}var U=s(163991),k=s(347148),N=s(576515),F=s(773793),P=s(334308),L=s(790551),D=s(230064),j=s(52843);const q=(e,t)=>void 0!==e.find((e=>{var s;return"allOptionType"in e.settings&&(null===(s=e.settings)||void 0===s?void 0:s.allOptionType)===t}));function M(e){if(void 0===e)return;const t=q(e,"implicit"),s=q(e,"explicit");(t||s)&&r.v.addAction(j.Sht,{hasAllOptionTypeImplicit:t,hasAllOptionTypeExplicit:s});const i=(e=>void 0!==e.find((e=>{var t;return"hasOtherOption"in e.settings&&(null===(t=e.settings)||void 0===t?void 0:t.hasOtherOption)})))(e);i&&r.v.addAction(j.rGl)}var B,W=function(e,t){return function(s,r){t(s,r,e)}},V=function(e,t,s,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,s):i?i.value=s:t.set(e,s),s};const G={canSeeRegularAccountsTab:!1,canSeeSessionsTab:!1,canSeeNotificationContacts:!1,canSeeNetworkPoliciesTab:!1,canSeeSnowflakeDataMarketplaceBilling:!1,canSeeAccountUsage:!1,canSeeOrgUsage:!1,canSeeBillingPage:!1,canSeeSecurityPage:!1,canCreateResourceMonitors:!1,canCreateAccounts:!1,canSeeDataGovernancePage:!1,canSeeSharingSettingPage:!1};let H=class extends I.y{constructor(e,t,s,r){super(e,t,r),this.api=e,this.params=t,this.beachState=s,B.set(this,void 0),this.userPinnedItemsForStr=(0,l.default)((e=>{let t=[];try{e&&(t=JSON.parse(e))}catch(e){console.warn("Caught exception trying to parse pinnedItems -- ignoring: ",e)}return t})),this.currentUserId=t.user?String(t.user.id):null,this.urc=t.urc,this.environ=t.environ,this.regionGroupType=t.regionGroupType,this.signoutInProgress=!1,this.initialUrlQueryParameters=u.parse(window.location.search),this.isOnDemandAccount=!1,V(this,B,!1,"f"),this.accountOrgDefaultedToSnowsight=!1,this.organizationAccount=!1,(0,n.U)((e=>{const t=this.getSnowflakeParameterRawValue(e);return"boolean"==typeof t?this.isSnowflakeFeatureEnabled(e):"string"==typeof t&&this.isUiSpecifiedSnowflakeFeatureEnabled(e)}))}storesDidBind(e,t){}get context(){return this.urc}get isGuestUser(){return!this.currentUser}get currentUser(){return this.userForId(this.currentUserId)}get dataExchangeEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_FEATURE_PRIVATE_DATA_EXCHANGE_ENABLED)||this.isSnowflakeFeatureEnabled("UI_ENABLE_PUBLIC_LISTINGS")||this.isSnowflakeFeatureEnabled("UI_ENABLE_PRIVATE_LISTINGS")}get isMultiClusterWarehousesSupported(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_MULTI_CLUSTER_WAREHOUSES)}get isSnowparkOptimizedEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.ALLOW_HIGH_MEMORY_WAREHOUSE)}get isUiEnableConnectors20Enabled(){return this.isSnowflakeFeatureEnabled(i.gT.UI_ENABLE_CONNECTORS_UI_20)}get isBudgetFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_BUDGET")}get isCostTransparencyFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_COST_TRANSPARENCY_PAGE")}get isAXObjectExplorerMultiFetchEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_AX_MULTI_FETCH_TABS_OBJECT_EXPLORER)}get dxHealthCheckEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DX_HEALTH_CHECK")}get dxAdminUnpublishListingsForPDEEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ADMIN_UNPUBLISH_LISTINGS_FOR_PRIVATE_DATA_EXCHANGE)}get navigationRules(){var e;const t=(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)||[],s=Object.assign({},G);return(this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DG_TAGGING_GA")?this.hasSuperAccountAdminRole:this.isCurrentRoleSuperAccountAdmin)&&(s.canSeeDataGovernancePage=!0),this.hasSuperAccountAdminRole&&(s.canSeeAccountUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE"),s.canSeeBillingPage=this.creditCardBillingEnabled,s.canSeeNotificationContacts=!0),this.hasSuperAccountAdminRole||t.includes("SECURITYADMIN")?(s.canSeeSessionsTab=!0,s.canSeeNetworkPoliciesTab=!0,s.canSeeSecurityPage=!0,s.canCreateResourceMonitors=!0):t.includes("SYSADMIN"),this.isUiSpecifiedSnowflakeFeatureEnabled("FEATURE_UI_READER_ACCOUNTS_IN_ADMIN")&&(s.canSeeRegularAccountsTab=!0),this.hasSuperOrgAdminRole&&(s.canSeeRegularAccountsTab=!0,s.canSeeNotificationContacts=!0,s.canSeeSnowflakeDataMarketplaceBilling=this.dataExchangeEnabled,s.canCreateAccounts=!0,s.canSeeOrgUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE")),((0,O.W)(this)||(0,C.m)(this))&&(s.canSeeRegularAccountsTab=!0),(this.hasAdminRole||this.canModifyParameters)&&this.isFeatureEnabled(i.gT.LEGACY_SHARING_GRANDFATHERED)&&(s.canSeeSharingSettingPage=!0),s}get warehouseMaxSize(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_WAREHOUSE_MAX_SIZE,"string")||"4X-Large"}get regionlessRedirectEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_SNOWSIGHT_ENABLE_REGIONLESS_REDIRECT)}get privateListingPublishLimit(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_PRIVATE_LISTING_PUBLISH_LIMIT,"number")}get schemaBrowserEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_AX_PUPR)}get replicationEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ACCOUNT_DATABASE_REPLICATION)}get dataSharingDisabled(){return!this.isSnowflakeFeatureEnabledWithDefault(i.gT.SNOWFLAKE_FEATURE_UI_FEATURE_DATA_SHARING_ENABLED,!0)}get creditCardBillingEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.CREDIT_CARD_BILLING_ENABLED)}get lineOverlayChartsEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_1")}get keepTooltipsOnTopEnabled(){return this.isFeatureEnabled(i.gT.KEEP_TOOLTIP_ON_TOP_ENABLED)}get queryTextRoleEnabled(){return this.isFeatureEnabled(i.gT.QUERY_TEXT_ENTITY_MEMBER_ROLE)}get resultDownloadDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_DOWNLOAD)}get selfPasswordChangeDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_SELF_PASSWORD_CHANGE)}get supportEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT)}get supportForTrialAccountsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT_FOR_TRIAL_ACCOUNTS)}get npsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_NPS)}get learnEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_LEARN)}get inProductSearchEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_IN_PRODUCT_SEARCH)}get anacondaEnablementEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_ANACONDA_ENABLEMENT)}get dgTaggingEnabled(){const e=this._stores.organization.edition;return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DG_TAGGING")&&(e===c.p.enterprise||e===c.p.business_critical||e===c.p.vps)}get cgTaggingEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_TAGGING")}get streamlitInSnowflakeEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_STREAMLIT_IN_SNOWFLAKE")}get streamlitTelemetryMetricEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_STREAMLIT_TELEMETRY_METRIC")}get getStartedPageV2Enabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_TRIAL_HOME_PAGE_V2)}get isLandingPageOverrideSetToSnowflake(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")===i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP}get treatQueryErrorStageRowDataAsSoftFailureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_0")}get landingPageParam(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE,"string")}getSnowflakeParameterValue(e,t){const s=this.getSnowflakeParameterRawValue(e);return void 0===s?"string"===t?"":0:(typeof s!==t&&o.cM.error(new Error(`APPS-9412: Unexpected type (${typeof s}) for parameter ${e}`)),s)}isFeatureEnabled(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.features&&!!this.currentUser.settings.features[e]||this._stores&&this._stores.organization.isFeatureEnabled(e)}isCanary(){return this.currentBeach()===F._p}areLocalOverridesAllowed(){return(0,v.mb)()||(0,v.WC)()||this.isCanary()}isSnowflakeFeatureEnabled(e){const t=this.getSnowflakeParameterRawValue(e);return!0===t||!1===t||void 0===t||o.cM.error(new Error(`APPS-9412: Unexpected type (${typeof t}) for parameter ${e}`)),!!t}isUiSpecifiedSnowflakeFeatureEnabled(e){return(0,_.Z)(e,this.getSnowflakeParameterRawValue(e),this.areLocalOverridesAllowed())}uiSpecifiedSnowflakeFeatureNumber(e){return(0,b.Gd)(e,this.getSnowflakeParameterRawValue(e))}uiSpecifiedSnowflakeFeatureDate(e){return(0,b.DJ)(e,this.getSnowflakeParameterRawValue(e))}uiSpecifiedSnowflakeFeatureString(e){return(0,b.hm)(e,this.getSnowflakeParameterRawValue(e))}getSnowflakeParameterRawValue(e){var t,s,i;const n=null===(i=null===(s=null===(t=this.currentUser)||void 0===t?void 0:t.settings)||void 0===s?void 0:s.snowflakeFeatures)||void 0===i?void 0:i[e];if(this.parameters){const t=this.parameters[e];if(void 0!==t)return t;void 0!==n&&("UI_BCR_DEPRECATING_RESULT_SHARING_IN_WORKSHEET"===e||"UI_BCR_DEPRECATING_RESULT_SHARING_IN_DASHBOARD"===e||"UI_DEPRECATING_RESULT_SHARING_AND_SECONDARY_ROLES_IN_DASHBOARD"===e?r.v.addAction("parameter-existence-mismatch",{featureName:e}):o.cM.error(new Error(`APPS-9412: Found a parameter value on the pg user but not bootstrap data for ${e}`)))}return n}isSnowflakeFeatureDefined(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.snowflakeFeatures&&null!=this.currentUser.settings.snowflakeFeatures[e]}isSnowflakeFeatureEnabledWithDefault(e,t){return this.isSnowflakeFeatureDefined(e)?this.isSnowflakeFeatureEnabled(e):t}userForId(e){return this.api.models.users.get(e)}get hasAdminRole(){var e;return null===(e=this.currentUser)||void 0===e?void 0:e.hasAdminRole}get canModifyParameters(){var e;return null===(e=this.currentUser)||void 0===e?void 0:e.canModifyParameters}async saveSettings(){this.currentUser&&(this.notify("USER_SAVE_SETTINGS_STARTED"),await this.api.post({path:"/settings",data:this.currentUser.settings}),this.notify("USER_SAVE_SETTINGS_COMPLETED"))}async updateSettings(e){const t=new FormData;Object.keys(e).forEach((s=>{"avatar"===s?""===e[s].get("avatar")?t.append("clearAvatar",String(!0)):t.append(s,e[s].get("avatar")):"object"==typeof e[s]?t.append(s,JSON.stringify(e[s])):t.append(s,e[s])})),await this.api.post({path:"/settings",data:t}),this.notify("USER_UPDATE_SETTINGS_COMPLETED")}async sendValidationEmail(){await this.api.post({path:"/sendValidationEmail"}),this.notify("USER_EMAIL_VALIDATION_SENT")}async previewProfileImg(e){const t=new FormData;return t.append("avatar",e),(await d.nufetchForm("/avatarPreview",this.api.requestContext(),{method:"POST",body:t})).avatar}async signoutAccount(e){let t,s=!1;try{const r=await this.api.post({path:"/signout-account",data:{},localUpdates:[],requestContext:this.api.requestContext(e.userKey)});r.redirectURL&&(t=r.redirectURL),s=!0}catch(e){o.cM.error(e)}return{success:s,userKey:e.userKey,redirectURL:t}}async signout(){this.signoutInProgress=!0,this.notify("USER_SIGNOUT_STARTED");try{const e=await Promise.all(this.urc.accountsToLogout().map((e=>this.signoutAccount(e))));this.urc.completeLogout(),A.O.clearSession();for(const t of e)if(t.redirectURL)return void(window.location.href=t.redirectURL);const t=e.filter((e=>!e.success)).map((e=>e.userKey));if(t.length)throw new Error(`signout failed for ${t.length} accounts (${JSON.stringify(t)})`);this.notify("USER_SIGNOUT_COMPLETE")}catch(e){o.cM.error(e),this.signoutInProgress=!1,this.notify("USER_SIGNOUT_FAILED")}}sortForVirtualFolder(e){var t;return((null===(t=this.currentUser)||void 0===t?void 0:t.settings.virtualFolderSorts)||{})[e]}async setVirtualFolderSort(e,t){this.currentUser&&(this.currentUser.settings.virtualFolderSorts[e]=t,await this.saveSettings())}userPinnedItems(){var e;return this.userPinnedItemsForStr(null===(e=this.currentUser)||void 0===e?void 0:e.settings.pinnedItems)}pinnedItemsStrSet(){return new Set(this.userPinnedItems().map((e=>(0,y.z)(e))))}async updateUserPinnedItemsPin(e){const t=this.pinnedItemsStrSet();t.add((0,y.z)(e));const s={pinnedItems:(0,y.v)(t)};await this.updateSettings(s)}async updateUserPinnedItemsUnpin(e){const t=this.pinnedItemsStrSet();t.delete((0,y.z)(e));const s={pinnedItems:(0,y.v)(t)};await this.updateSettings(s)}getOpenWorksheetTabs(){var e;return void 0===this.openWorksheetTabs&&(null===(e=this.currentUser)||void 0===e?void 0:e.settings)&&(this.openWorksheetTabs=this.currentUser.settings.openWorksheetPids||[]),[...this.openWorksheetTabs||[]]}isWorksheetTabOpen(e){return this.getOpenWorksheetTabs().includes(e)}updateWorksheetTabs(e,t){var s;!e.length&&this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_80")&&r.v.addAction("WORKSHEET_TABS_CLEAR",{origin:t,previousOpenTabsCount:null===(s=this.openWorksheetTabs)||void 0===s?void 0:s.length}),this.openWorksheetTabs=e;const i={openWorksheetPids:e};this.updateSettings(i),this.notify("USER_TABS_UPDATED")}openWorksheetTab(e){if(!this.isWorksheetTabOpen(e)){const t=this.getOpenWorksheetTabs().concat([e]);this.updateWorksheetTabs(t,"open-worksheet-tab")}}closeWorksheetTab(e){if(this.isWorksheetTabOpen(e)){const t=this.getOpenWorksheetTabs().filter((t=>t!==e));this.updateWorksheetTabs(t,"close-worksheet-tab")}}userConnectionSettings(e){var t;return((null===(t=this.currentUser)||void 0===t?void 0:t.settings.connections)||{})[e]||{}}async updateUserConnectionSettings(e,t){if(this.currentUser){const s=this.currentUser.settings.connections||{},r=s[e]||{},i=Object.assign({},r);for(const e in t)i[e]=t[e];const n=Object.assign({},s);n[e]=i,this.currentUser.settings.connections=n,await this.saveSettings()}}currentUserInfo(e){return this.urc.currentUserInfo(e)}userRequestContext(e){return this.urc.requestContext(e)}completeLogin(e,t,s,r,i,n=!0){var o,a,l,u;this.urc.completeLogin({account:e.account,name:e.name,url:e.url,region:r,appServerUrl:s,username:t.username,snowflakeOrgName:(null===(o=e.settings)||void 0===o?void 0:o.snowflakeOrgName)||"",edition:(null===(a=e.settings)||void 0===a?void 0:a.edition)||"",accountAlias:(null===(l=e.settings)||void 0===l?void 0:l.accountAlias)||"",currentDeploymentLocation:null===(u=e.settings)||void 0===u?void 0:u.currentDeploymentLocation},n,i),this.notify("COMPLETED_LOGIN")}toUserKey(e,t){return this.urc.toUserKey(e,t)}sortedUniqueLoggedInAccountsArray(){return this.urc.sortedUniqueLoggedInAccountsArray()}loggedInAccountsList(){return this.urc.loggedInAccountsList()}setBeachCookie(){var e;this.urc.setDefaultBeachCookieForAccount(null===(e=this._stores.organization.activeOrg)||void 0===e?void 0:e.account)}showLoginOptInModal(){var e;return!(!this.currentUser||this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")===i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP||"true"!==(null===(e=this.initialUrlQueryParameters)||void 0===e?void 0:e.optInModal))}switchPrimaryUser(e,t){return this.urc.switchPrimaryUser(e,t)}clearBeachCookie(){this.beachState.clearBeachCookie()}currentBeach(){return this.beachState.currentBeach()}switchBeachVersion(e){return this.urc.switchBeachVersion(e)}showBeachBanner(){return this.environ==w.q.staging&&!!this.currentBeach()}showAccountBeachVersion(){var e;return this.environ==w.q.staging?!!this.urc.beachCookieForAccount(null===(e=this._stores.organization.activeOrg)||void 0===e?void 0:e.account):!!this.currentBeach()}async switchUser(e,t){return await this._stores.analytics.commit(),A.O.clearSession(),this.urc.switchUser(e,t)}isCurrentUser(e){return this.urc.isCurrentUser(e)}isOrgAliasEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_USE_ORG_AND_ALIAS_FOR_DX)&&this.loggedInAccountsList().every((e=>!!e.snowflakeOrgName))}async fetchBootstrapData(){var e,t;if(!this.isGuestUser)try{const s=await this.api.post({path:"/fetch-bootstrap-data",data:{IncludeClientParameters:!1}});this._stores.organization.setOrg(s.organization),M(null===(t=null===(e=s.organization)||void 0===e?void 0:e.settings)||void 0===t?void 0:t.paramConfigs),void 0!==s.clientParameters&&this.updateClientParameters(s.clientParameters)}catch(e){this.handleException(e)}}async fetchExtendedBootstrapData(){var e,t;if(this.isGuestUser)this.loadParameters();else try{const s=await this.api.post({path:"/fetch-extended-bootstrap-data"});this._stores.organization.setOrg(s.organization),M(null===(t=null===(e=s.organization)||void 0===e?void 0:e.settings)||void 0===t?void 0:t.paramConfigs),this.updateAccountInfo(s.accountInfo),void 0!==s.clientParameters&&this.updateClientParameters(s.clientParameters)}catch(e){this.handleException(e)}}async loadParameters(){try{const e=this.isGuestUser?["CLIENT_PARAMS_INFO"]:["CLIENT_PARAMS_INFO","ACCOUNT"],{data:t}=await this.api.restPassthrough("POST","/request/console/bootstrap-data-request?desc=parameters",{role:"PUBLIC",isJsonBody:!0},{dataKinds:e});this.updateAccountInfo(null==t?void 0:t.accountInfo),this.updateClientParameters(t.clientParamsInfo)}catch(e){this.handleException(e)}}updateAccountInfo(e){var t,s;e&&(this.regionGroupType=null===(s=(null!==(t=e.availableRegions)&&void 0!==t?t:[])[e.currentDeploymentLocation])||void 0===s?void 0:s.regionGroupType,r.v.setUserProperty("account_type",e.type)),this.isOnDemandAccount=!!(null==e?void 0:e.onDemandAccount),this.accountOrgDefaultedToSnowsight=!!(null==e?void 0:e.accountOrgDefaultedToSnowsight),this.organizationAccount=!!(null==e?void 0:e.organizationAccount),V(this,B,"READER"===(null==e?void 0:e.type),"f")}updateClientParameters(e){const t={};let s=void 0===this.parameters||e.length!=Object.keys(this.parameters).length;for(const r of e){t[r.name]=r.value;const e=this.parameters?this.parameters[r.name]:null;s||e===r.value||(s=!0)}s&&(this.parameters=t,this.notify("PARAMETERS_LOADED"),this.deprecated_storeSelectParamsForCoreUi()),this.checkCrossRoleSharingFlag(t)}deprecated_storeSelectParamsForCoreUi(){const e=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_42");window.localStorage.setItem("UI_ENABLE_AF_FEATURE_42",e.toString())}handleException(e){if(this.currentUser)throw e;this.notify("PARAMETERS_LOADED_GUEST_ERROR")}checkCrossRoleSharingFlag(e){this.currentUser&&!!e[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]!=!!this.currentUser.settings.snowflakeFeatures[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]&&this.onParameterOutOfSync()}static async checkUserSession(){var e,t;if(null===(t=null===(e=m.X.stores)||void 0===e?void 0:e.user)||void 0===t?void 0:t.isGuestUser)return;const s=new S.E,r=new x,i=new D.s,n=new T.P(R.PageState.urc,s,(e=>new E.w(d,e)),r,i);try{await n.restPassthrough("POST","/request/console/bootstrap-data-request",{role:"PUBLIC",isJsonBody:!0,keepAlive:!1},{dataKinds:[]})}catch(e){throw e}}currentRole(){return this.urc.currentRole()}currentSecondaryRoles(){return this.urc.currentSecondaryRoles()}switchCurrentRole(e){this.urc.switchCurrentRole(e)&&this.notify("USER_ROLE_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,L.Tp)(e))}switchCurrentSecondaryRoles(e){this.urc.switchCurrentSecondaryRoles(e),this.notify("USER_SECONDARY_ROLES_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,L.Hz)(e))}get hasSuperAccountAdminRole(){var e;return(0,U.i)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,f.h)(this.currentRole())}get hasSuperOrgAdminRole(){var e;return(0,p.j)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,g.l)(this.currentRole())}get superAccountAdmin(){return this.organizationAccount?h.XW:h.Jk}get superOrgAdmin(){return this.organizationAccount?h.XW:h.rJ}get hasSuperSecurityAdminRole(){var e;return(0,k.w)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,N.E)(this.currentRole())}getAccountsForRegion({regionGroup:e,snowflakeRegion:t}){return this.loggedInAccountsList().filter((s=>s.currentDeploymentLocation===`${e}.${t}`))}async downloadWorksheets(e){await d.nufetch(`/worksheets-download?${(0,a.nZ)({username:e})}`,this.api.requestContext())}get isReaderAccount(){return function(e,t,s,r){if("a"===s&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?r:"a"===s?r.call(e):r?r.value:t.get(e)}(this,B,"f")}};B=new WeakMap,H.STORE_ID="user",H=function(e,t,s,r){var i,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,s,o):i(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o}([(0,P.ri)(),W(0,(0,P.f3)(T.P)),W(1,(0,P.f3)("PageState")),W(2,(0,P.f3)(F.gL)),W(3,(0,P.f3)("ReduxStore"))],H)}}]);
//# sourceMappingURL=90875-579a941d74cccbf75945.js.map